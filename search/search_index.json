{"config":{"lang":["fr"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"AREA - Action REAction","text":"<p>Documentation du projet AREA (Action REAction), une plateforme d'automatisation inspir\u00e9e de services comme IFTTT ou Zapier.</p>"},{"location":"#presentation","title":"Pr\u00e9sentation","text":"<p>AREA est une application full-stack permettant aux utilisateurs de cr\u00e9er des automatisations personnalis\u00e9es en connectant diff\u00e9rents services web. L'application suit le paradigme \"Si ceci se produit, alors faire cela\" (If This Then That).</p>"},{"location":"#architecture-du-projet","title":"Architecture du Projet","text":"<p>Le projet est compos\u00e9 de 3 composants principaux :</p> Composant Technologie Port Description Backend API Node.js / Express 8080 API REST + Moteur d'automatisation Frontend Web React / Vite 8081 Interface web responsive Application Mobile React Native / Expo - Application iOS et Android <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Client Web    \u2502     \u2502  Client Mobile  \u2502     \u2502   PostgreSQL    \u2502\n\u2502   (React/Vite)  \u2502     \u2502 (React Native)  \u2502     \u2502    Database     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502                       \u2502                       \u2502\n         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                 \u2502\n                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                    \u2502     Backend API         \u2502\n                    \u2502   (Node.js/Express)     \u2502\n                    \u2502   Port: 8080            \u2502\n                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                 \u2502\n         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n         \u2502                       \u2502                       \u2502\n    \u250c\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2510            \u250c\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2510          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2510\n    \u2502 Google  \u2502            \u2502  Twitch   \u2502          \u2502 Microsoft  \u2502\n    \u2502 (Gmail) \u2502            \u2502    API    \u2502          \u2502 (OneDrive) \u2502\n    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518            \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"#demarrage-rapide","title":"D\u00e9marrage Rapide","text":""},{"location":"#prerequis","title":"Pr\u00e9requis","text":"<ul> <li>Docker &amp; Docker Compose</li> <li>Node.js 18+ (pour d\u00e9veloppement local)</li> <li>Cl\u00e9s API pour les services OAuth (Google, Twitch, Microsoft)</li> </ul>"},{"location":"#lancement-avec-docker","title":"Lancement avec Docker","text":"<pre><code># Cloner le repository\ngit clone https://github.com/JonthanUTF/mirror_area.git\ncd mirror_area\n\n# Configurer les variables d'environnement\ncp server/.env.example server/.env\n# \u00c9diter server/.env avec vos cl\u00e9s API\n\n# Lancer tous les services\ndocker-compose up -d\n\n# Acc\u00e9der \u00e0 l'application\n# Web: http://localhost:8081\n# API: http://localhost:8080\n</code></pre>"},{"location":"#developpement-local","title":"D\u00e9veloppement Local","text":"<pre><code># Backend\ncd server\nnpm install\nnpm run dev\n\n# Frontend Web\ncd front-web\nnpm install\nnpm run dev\n\n# Application Mobile\ncd client-mobile\nnpm install\nnpx expo start\n</code></pre>"},{"location":"#documentation","title":"Documentation","text":"Section Description Architecture Architecture technique d\u00e9taill\u00e9e API Reference Documentation compl\u00e8te de l'API REST Backend Documentation du serveur Node.js Frontend Web Documentation du client React Application Mobile Documentation React Native Services Guide des services int\u00e9gr\u00e9s Contribuer Guide de contribution"},{"location":"#services-supportes","title":"Services Support\u00e9s","text":"Service Actions R\u00e9actions Google (Gmail) Nouvel email re\u00e7u Envoyer un email GitHub Issue cr\u00e9\u00e9e, PR ouverte, Push Cr\u00e9er issue, Commenter Dropbox Fichier ajout\u00e9/modifi\u00e9 Upload, Cr\u00e9er dossier Twitch Streamer en live Bloquer un utilisateur Microsoft Nouveau fichier OneDrive Upload fichier, Envoyer email Timer Intervalle - Console - Logger un message"},{"location":"#authentification","title":"Authentification","text":"<p>L'application supporte plusieurs m\u00e9thodes d'authentification :</p> <ul> <li>Email / Mot de passe : Inscription et connexion classiques</li> <li>Google OAuth : Connexion via compte Google</li> <li>JWT : Tokens d'authentification s\u00e9curis\u00e9s</li> </ul>"},{"location":"#licence","title":"Licence","text":"<p>Ce projet est d\u00e9velopp\u00e9 dans le cadre du module B-DEV-500 AREA \u00e0 Epitech.</p>"},{"location":"SECURITY/","title":"Security features","text":""},{"location":"SECURITY/#1-authentication-authorization","title":"1. Authentication &amp; Authorization","text":"<ul> <li>Secure Password hashing (Bcrypt format + salt)</li> <li>Use JWT with short-lived tokens</li> <li>OAuth 2.0 integration</li> <li>Enforce RBAC (Role-Based Access Control)</li> </ul>"},{"location":"SECURITY/#2-input-validation-sanitization","title":"2. Input Validation &amp; Sanitization","text":"<ul> <li>Protect against XSS, SQL injection, and command injection (ORM)</li> <li>Input validation</li> </ul>"},{"location":"SECURITY/#3-secure-deployment-cicd","title":"3. Secure Deployment &amp; CI/CD","text":"<ul> <li>Secrets management (environment variables, secrets)</li> <li>Enforce pull requests and code reviews</li> </ul>"},{"location":"api-reference/","title":"API Reference# \ud83d\udce1 API Reference","text":"<p>Documentation compl\u00e8te de l'API REST du backend AREA.Documentation compl\u00e8te de l'API REST du backend AREA.</p> <p>URL de base : <code>http://localhost:8080</code>URL de base : <code>http://localhost:8080</code></p>"},{"location":"api-reference/#authentification-authentification","title":"Authentification## \ud83d\udd10 Authentification","text":"<p>L'API utilise des tokens JWT pour l'authentification. Incluez le token dans le header de vos requ\u00eates :L'API utilise des tokens JWT pour l'authentification. Incluez le token dans le header de vos requ\u00eates :</p> <p><code>http</code>http</p> <p>Authorization: Bearer Authorization: Bearer  <p>``````</p>"},{"location":"api-reference/#routes-dauthentification-","title":"Routes d'Authentification---","text":""},{"location":"api-reference/#post-authregister-routes-dauthentification","title":"POST /auth/register## \ud83d\udcdd Routes d'Authentification","text":"<p>Inscription d'un nouvel utilisateur.### <code>POST /auth/register</code></p> <p>Corps de la requ\u00eate :Inscription d'un nouvel utilisateur.</p> <p>```json</p> <p>{Corps de la requ\u00eate :</p> <p>\"email\": \"user@example.com\",```json</p> <p>\"password\": \"motdepasse123\",{</p> <p>\"name\": \"John Doe\"  \"email\": \"user@example.com\",</p> <p>}  \"password\": \"motdepasse123\",</p> <p>```  \"name\": \"John Doe\"</p> <p>}</p> <p>R\u00e9ponse (201) :```</p> <p>```json</p> <p>{R\u00e9ponse (201) :</p> <p>\"message\": \"User registered successfully\",```json</p> <p>\"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",{</p> <p>\"user\": {  \"message\": \"User registered successfully\",</p> <pre><code>\"id\": \"uuid-v4\",  \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n\n\"email\": \"user@example.com\",  \"user\": {\n\n\"name\": \"John Doe\"    \"id\": \"uuid-v4\",\n</code></pre> <p>}    \"email\": \"user@example.com\",</p> <p>}    \"name\": \"John Doe\"</p> <p>```  }</p> <p>}</p> <p>Erreurs :```</p> <p>| Code | Description |Erreurs :</p> <p>|------|-------------|</p> <p>| 400 | Email et mot de passe requis || Code | Description |</p> <p>| 409 | Utilisateur d\u00e9j\u00e0 existant ||------|-------------|</p> <p>| 400 | Email et mot de passe requis |</p>"},{"location":"api-reference/#post-authlogin-409-utilisateur-deja-existant","title":"POST /auth/login| 409 | Utilisateur d\u00e9j\u00e0 existant |","text":"<p>Connexion d'un utilisateur existant.---</p> <p>Corps de la requ\u00eate :### <code>POST /auth/login</code></p> <p>```json</p> <p>{Connexion d'un utilisateur.</p> <p>\"email\": \"user@example.com\",</p> <p>\"password\": \"motdepasse123\"Corps de la requ\u00eate :</p> <p>}```json</p> <p>```{</p> <p>\"email\": \"user@example.com\",</p> <p>R\u00e9ponse (200) :  \"password\": \"motdepasse123\"</p> <p>```json}</p> <p>{```</p> <p>\"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",</p> <p>\"user\": {R\u00e9ponse (200) :</p> <pre><code>\"id\": \"uuid-v4\",```json\n\n\"email\": \"user@example.com\",{\n\n\"name\": \"John Doe\"  \"message\": \"Login successful\",\n</code></pre> <p>}  \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",</p> <p>}  \"user\": {</p> <p>```    \"id\": \"uuid-v4\",</p> <pre><code>\"email\": \"user@example.com\",\n</code></pre> <p>Erreurs :    \"name\": \"John Doe\"</p> <p>}</p> <p>| Code | Description |}</p> <p>|------|-------------|```</p> <p>| 400 | Email et mot de passe requis |</p> <p>| 401 | Identifiants invalides |Erreurs :</p>"},{"location":"api-reference/#get-authgoogle-code-description","title":"GET /auth/google| Code | Description |","text":"<p>|------|-------------|</p> <p>Initie le flux OAuth Google. Redirige vers la page de connexion Google.| 400 | Email et mot de passe requis |</p> <p>| 401 | Identifiants invalides |</p>"},{"location":"api-reference/#get-authgooglecallback","title":"GET /auth/google/callback","text":"<p>Callback OAuth Google. Retourne un token JWT apr\u00e8s authentification r\u00e9ussie.</p>"},{"location":"api-reference/#get-authgoogle","title":"<code>GET /auth/google</code>","text":""},{"location":"api-reference/#get-authtwitch","title":"GET /auth/twitch","text":"<p>Initie le flux OAuth Google.</p> <p>Initie le flux OAuth Twitch. Redirige vers la page de connexion Twitch.</p> <p>Redirection : Redirige vers la page de connexion Google.</p>"},{"location":"api-reference/#get-authtwitchcallback","title":"GET /auth/twitch/callback","text":"<p>Callback OAuth Twitch. Retourne un token JWT apr\u00e8s authentification r\u00e9ussie.</p>"},{"location":"api-reference/#get-authgooglecallback_1","title":"<code>GET /auth/google/callback</code>","text":""},{"location":"api-reference/#routes-utilisateurs","title":"Routes Utilisateurs","text":"<p>Callback OAuth Google (utilis\u00e9 par Google apr\u00e8s authentification).</p>"},{"location":"api-reference/#get-usersme","title":"GET /users/me","text":"<p>Redirection : Redirige vers <code>{CLIENT_URL}/auth/callback?token=&lt;jwt_token&gt;</code></p> <p>R\u00e9cup\u00e8re les informations de l'utilisateur connect\u00e9.</p> <p>R\u00e9ponse (200) :</p> <p><code>``json###</code>GET /auth/twitch`</p> <p>{</p> <p>\"id\": \"uuid-v4\",Initie le flux OAuth Twitch.</p> <p>\"email\": \"user@example.com\",</p> <p>\"name\": \"John Doe\",Headers requis : <code>Authorization: Bearer &lt;token&gt;</code></p> <p>\"isAdmin\": false,</p> <p>\"createdAt\": \"2024-01-15T10:00:00.000Z\"Redirection : Redirige vers la page de connexion Twitch.</p> <p>}</p> <p>```---</p>"},{"location":"api-reference/#put-usersme-get-authme","title":"PUT /users/me### <code>GET /auth/me</code>","text":"<p>Met \u00e0 jour les informations de l'utilisateur.R\u00e9cup\u00e8re les informations de l'utilisateur connect\u00e9.</p> <p>Corps de la requ\u00eate :Headers requis : <code>Authorization: Bearer &lt;token&gt;</code></p> <p>```json</p> <p>{R\u00e9ponse (200) :</p> <p>\"name\": \"Jane Doe\"```json</p> <p>}{</p> <p>```  \"user\": {</p> <pre><code>\"id\": \"uuid-v4\",\n</code></pre>"},{"location":"api-reference/#routes-areas-email-userexamplecom","title":"Routes AREAs    \"email\": \"user@example.com\",","text":"<pre><code>\"name\": \"John Doe\",\n</code></pre>"},{"location":"api-reference/#get-areas-googleid-123456789","title":"GET /areas    \"googleId\": \"123456789\",","text":"<pre><code>\"createdAt\": \"2026-01-15T10:00:00.000Z\"\n</code></pre> <p>Liste toutes les AREAs de l'utilisateur connect\u00e9.  }</p> <p>}</p> <p>R\u00e9ponse (200) :```</p> <p>```json</p> <p>[---</p> <p>{</p> <pre><code>\"id\": 1,## \ud83d\udd04 Routes des AREAs\n\n\"name\": \"Ma premi\u00e8re AREA\",\n\n\"actionService\": \"timer\",### `GET /areas`\n\n\"actionType\": \"interval\",\n\n\"reactionService\": \"console\",Liste toutes les AREAs de l'utilisateur connect\u00e9.\n\n\"reactionType\": \"log_message\",\n\n\"parameters\": {**Headers requis** : `Authorization: Bearer &lt;token&gt;`\n\n  \"interval\": 60000,\n\n  \"message\": \"Test\"**R\u00e9ponse (200)** :\n\n},```json\n\n\"isActive\": true,{\n\n\"lastTriggered\": null,  \"areas\": [\n\n\"createdAt\": \"2024-01-15T10:00:00.000Z\"    {\n</code></pre> <p>}      \"id\": \"uuid-v4\",</p> <p>]      \"name\": \"Email when stream starts\",</p> <p>```      \"actionService\": \"twitch\",</p> <pre><code>  \"actionType\": \"streamer_live\",\n</code></pre>"},{"location":"api-reference/#get-areasid-reactionservice-google","title":"GET /areas/:id      \"reactionService\": \"google\",","text":"<pre><code>  \"reactionType\": \"send_email\",\n</code></pre> <p>R\u00e9cup\u00e8re une AREA sp\u00e9cifique.      \"parameters\": {</p> <pre><code>    \"username\": \"ninja\",\n</code></pre> <p>R\u00e9ponse (200) :        \"recipient\": \"me@example.com\",</p> <p>```json        \"subject\": \"Stream Alert\",</p> <p>{        \"body\": \"Ninja is live!\"</p> <p>\"id\": 1,      },</p> <p>\"name\": \"Ma premi\u00e8re AREA\",      \"active\": true,</p> <p>\"actionService\": \"timer\",      \"lastTriggered\": \"2026-01-15T14:30:00.000Z\",</p> <p>\"actionType\": \"interval\",      \"createdAt\": \"2026-01-10T08:00:00.000Z\"</p> <p>\"reactionService\": \"console\",    }</p> <p>\"reactionType\": \"log_message\",  ]</p> <p>\"parameters\": {}</p> <pre><code>\"interval\": 60000,```\n\n\"message\": \"Test\"\n</code></pre> <p>},---</p> <p>\"isActive\": true</p> <p>}### <code>GET /areas/:id</code></p> <p>```</p> <p>R\u00e9cup\u00e8re une AREA sp\u00e9cifique.</p>"},{"location":"api-reference/#post-areas","title":"POST /areas","text":"<p>Headers requis : <code>Authorization: Bearer &lt;token&gt;</code></p> <p>Cr\u00e9e une nouvelle AREA.</p> <p>R\u00e9ponse (200) :</p> <p>Corps de la requ\u00eate :```json</p> <p>```json{</p> <p>{  \"area\": {</p> <p>\"name\": \"Notification Twitch\",    \"id\": \"uuid-v4\",</p> <p>\"actionService\": \"twitch\",    \"name\": \"My Area\",</p> <p>\"actionType\": \"streamer_live\",    \"actionService\": \"timer\",</p> <p>\"reactionService\": \"google\",    \"actionType\": \"interval\",</p> <p>\"reactionType\": \"send_email\",    \"reactionService\": \"console\",</p> <p>\"parameters\": {    \"reactionType\": \"log_message\",</p> <pre><code>\"username\": \"ninja\",    \"parameters\": {\n\n\"recipient\": \"me@example.com\",      \"interval\": 60000,\n\n\"subject\": \"Ninja est en live !\",      \"message\": \"Timer triggered!\"\n\n\"body\": \"Votre streamer favori diffuse maintenant.\"    },\n</code></pre> <p>}    \"active\": true</p> <p>}  }</p> <p>```}</p> <p>```</p> <p>R\u00e9ponse (201) :</p> <p>```jsonErreurs :</p> <p>{</p> <p>\"id\": 2,| Code | Description |</p> <p>\"name\": \"Notification Twitch\",|------|-------------|</p> <p>\"actionService\": \"twitch\",| 404 | AREA non trouv\u00e9e |</p> <p>\"actionType\": \"streamer_live\",</p> <p>\"reactionService\": \"google\",---</p> <p>\"reactionType\": \"send_email\",</p> <p>\"parameters\": { ... },### <code>POST /areas</code></p> <p>\"isActive\": true,</p> <p>\"createdAt\": \"2024-01-15T10:00:00.000Z\"Cr\u00e9e une nouvelle AREA.</p> <p>}</p> <p><code>``**Headers requis** :</code>Authorization: Bearer `"},{"location":"api-reference/#put-areasidcorps-de-la-requete","title":"PUT /areas/:idCorps de la requ\u00eate :","text":"<p>```json</p> <p>Met \u00e0 jour une AREA existante.{</p> <p>\"name\": \"Mon automatisation\",</p> <p>Corps de la requ\u00eate :  \"actionService\": \"twitch\",</p> <p>```json  \"actionType\": \"streamer_live\",</p> <p>{  \"reactionService\": \"google\",</p> <p>\"name\": \"Nouveau nom\",  \"reactionType\": \"send_email\",</p> <p>\"isActive\": false  \"parameters\": {</p> <p>}    \"username\": \"streamer_name\",</p> <p>```    \"recipient\": \"me@example.com\",</p> <pre><code>\"subject\": \"Notification\",\n</code></pre>"},{"location":"api-reference/#delete-areasid-body-le-streamer-est-en-live","title":"DELETE /areas/:id    \"body\": \"Le streamer est en live!\"","text":"<p>},</p> <p>Supprime une AREA.  \"active\": true</p> <p>}</p> <p>R\u00e9ponse (200) :```</p> <p>```json</p> <p>{R\u00e9ponse (201) :</p> <p>\"message\": \"Area deleted successfully\"```json</p> <p>}{</p> <p>```  \"message\": \"Area created successfully\",</p> <p>\"area\": {</p>"},{"location":"api-reference/#routes-services-id-uuid-v4","title":"Routes Services    \"id\": \"uuid-v4\",","text":"<pre><code>\"name\": \"Mon automatisation\",\n</code></pre>"},{"location":"api-reference/#get-services-actionservice-twitch","title":"GET /services    \"actionService\": \"twitch\",","text":"<pre><code>\"actionType\": \"streamer_live\",\n</code></pre> <p>Liste tous les services disponibles avec leurs actions et r\u00e9actions.    \"reactionService\": \"google\",</p> <pre><code>\"reactionType\": \"send_email\",\n</code></pre> <p>R\u00e9ponse (200) :    \"parameters\": {...},</p> <p>```json    \"active\": true</p> <p>[  }</p> <p>{}</p> <pre><code>\"name\": \"google\",```\n\n\"label\": \"Google (Gmail)\",\n\n\"icon\": \"http://localhost:8080/assets/google-icon.png\",**Champs obligatoires** :\n\n\"actions\": [\n\n  {- `name` : Nom de l'AREA\n\n    \"name\": \"new_email\",- `actionService` : Service de l'action (trigger)\n\n    \"description\": \"Triggers when a new email is received\"- `actionType` : Type d'action\n\n  }- `reactionService` : Service de la r\u00e9action\n\n],- `reactionType` : Type de r\u00e9action\n\n\"reactions\": [\n\n  {---\n\n    \"name\": \"send_email\",\n\n    \"description\": \"Sends an email\"### `PUT /areas/:id`\n\n  }\n\n]Met \u00e0 jour une AREA.\n</code></pre> <p>}</p> <p>]Headers requis : <code>Authorization: Bearer &lt;token&gt;</code></p> <p>```</p> <p>Corps de la requ\u00eate (tous les champs sont optionnels) :</p>"},{"location":"api-reference/#get-servicesservicenameconnectjson","title":"GET /services/:serviceName/connect```json","text":"<p>{</p> <p>G\u00e9n\u00e8re l'URL OAuth pour connecter un service.  \"name\": \"Nouveau nom\",</p> <p>\"active\": false,</p> <p>R\u00e9ponse (200) :  \"parameters\": {</p> <p>```json    \"interval\": 120000</p> <p>{  }</p> <p>\"url\": \"https://accounts.google.com/o/oauth2/v2/auth?...\"}</p> <p>}```</p> <p>```</p> <p>R\u00e9ponse (200) :</p>"},{"location":"api-reference/#post-servicesservicenamecallbackjson","title":"POST /services/:serviceName/callback```json","text":"<p>{</p> <p>\u00c9change le code OAuth contre des tokens d'acc\u00e8s.  \"message\": \"Area updated successfully\",</p> <p>\"area\": {...}</p> <p>Corps de la requ\u00eate :}</p> <p><code>json</code></p> <p>{</p> <p>\"code\": \"authorization_code_from_oauth\"---</p> <p>}</p> <p><code>``###</code>DELETE /areas/:id`</p>"},{"location":"api-reference/#get-servicesconnectedsupprime-une-area","title":"GET /services/connectedSupprime une AREA.","text":"<p>Liste les services connect\u00e9s par l'utilisateur.Headers requis : <code>Authorization: Bearer &lt;token&gt;</code></p> <p>R\u00e9ponse (200) :R\u00e9ponse (200) :</p> <p><code>json</code>json</p> <p>{{</p> <p>\"google\": {  \"message\": \"Area deleted successfully\"</p> <pre><code>\"connected\": true,}\n\n\"email\": \"user@gmail.com\"```\n</code></pre> <p>},</p> <p>\"twitch\": {---</p> <pre><code>\"connected\": false\n</code></pre> <p>}## \ud83d\udc64 Routes Utilisateurs</p> <p>}</p> <p><code>``###</code>GET /users`</p>"},{"location":"api-reference/#route-aboutliste-tous-les-utilisateurs-admin-uniquement","title":"Route AboutListe tous les utilisateurs (admin uniquement).","text":""},{"location":"api-reference/#get-aboutjsonheaders-requis-authorization-bearer-token-admin","title":"GET /about.jsonHeaders requis : <code>Authorization: Bearer &lt;token&gt;</code> (admin)","text":"<p>Retourne les informations du serveur au format sp\u00e9cifi\u00e9.R\u00e9ponse (200) :</p> <p>```json</p> <p>R\u00e9ponse (200) :{</p> <p>```json  \"users\": [</p> <p>{    {</p> <p>\"client\": {      \"id\": \"uuid-v4\",</p> <pre><code>\"host\": \"10.0.2.1\"      \"email\": \"user@example.com\",\n</code></pre> <p>},      \"name\": \"John Doe\",</p> <p>\"server\": {      \"role\": \"user\",</p> <pre><code>\"current_time\": 1705312800,      \"createdAt\": \"2026-01-15T10:00:00.000Z\"\n\n\"services\": [    }\n\n  {  ]\n\n    \"name\": \"google\",}\n\n    \"actions\": [```\n\n      {\n\n        \"name\": \"new_email\",---\n\n        \"description\": \"Triggers when a new email is received\"\n\n      }### `POST /users/create`\n\n    ],\n\n    \"reactions\": [Cr\u00e9e un utilisateur (admin uniquement).\n\n      {\n\n        \"name\": \"send_email\",**Headers requis** : `Authorization: Bearer &lt;token&gt;` (admin)\n\n        \"description\": \"Sends an email\"\n\n      }**Corps de la requ\u00eate** :\n\n    ]```json\n\n  }{\n\n]  \"email\": \"newuser@example.com\",\n</code></pre> <p>}  \"password\": \"password123\",</p> <p>}  \"name\": \"New User\",</p> <p>```  \"role\": \"user\"</p> <p>}</p>"},{"location":"api-reference/#codes-derreur","title":"Codes d'erreur```","text":"<p>| Code | Description |---</p> <p>|------|-------------|</p> <p>| 400 | Requ\u00eate invalide |### <code>GET /users/:id</code></p> <p>| 401 | Non authentifi\u00e9 |</p> <p>| 403 | Acc\u00e8s interdit |R\u00e9cup\u00e8re un profil utilisateur.</p> <p>| 404 | Ressource non trouv\u00e9e |</p> <p>| 409 | Conflit (ressource existante) |Headers requis : <code>Authorization: Bearer &lt;token&gt;</code></p> <p>| 500 | Erreur serveur |</p> <p>Permissions</p>"},{"location":"api-reference/#exemples-avec-curl-un-utilisateur-peut-voir-son-propre-profil-les-admins-peuvent-voir-tous-les-profils","title":"Exemples avec cURL    Un utilisateur peut voir son propre profil. Les admins peuvent voir tous les profils.","text":""},{"location":"api-reference/#inscription-","title":"Inscription---","text":"<p><code>``bash###</code>PUT /users/:id`</p> <p>curl -X POST http://localhost:8080/auth/register \\</p> <p>-H \"Content-Type: application/json\" \\Met \u00e0 jour un profil utilisateur.</p> <p>-d '{\"email\":\"test@example.com\",\"password\":\"password123\"}'</p> <p><code>``**Headers requis** :</code>Authorization: Bearer `"},{"location":"api-reference/#connexioncorps-de-la-requete","title":"ConnexionCorps de la requ\u00eate :","text":"<p>```json</p> <p>```bash{</p> <p>curl -X POST http://localhost:8080/auth/login \\  \"name\": \"Nouveau nom\",</p> <p>-H \"Content-Type: application/json\" \\  \"email\": \"newemail@example.com\",</p> <p>-d '{\"email\":\"test@example.com\",\"password\":\"password123\"}'  \"password\": \"newpassword\"</p> <p>```}</p> <p>```</p>"},{"location":"api-reference/#creer-une-area","title":"Cr\u00e9er une AREA","text":"<p>```bash</p> <p>curl -X POST http://localhost:8080/areas ### <code>DELETE /users/:id</code></p> <p>-H \"Content-Type: application/json\" \\</p> <p>-H \"Authorization: Bearer YOUR_TOKEN\" \\Supprime un utilisateur.</p> <p>-d '{</p> <pre><code>\"name\": \"Test AREA\",**Headers requis** : `Authorization: Bearer &lt;token&gt;`\n\n\"actionService\": \"timer\",\n\n\"actionType\": \"interval\",---\n\n\"reactionService\": \"console\",\n\n\"reactionType\": \"log_message\",## \ud83d\udd0c Routes des Services\n\n\"parameters\": {\n\n  \"interval\": 60000,### `GET /services`\n\n  \"message\": \"Triggered!\"\n\n}Liste les services connect\u00e9s par l'utilisateur.\n</code></pre> <p>}'</p> <p><code>``**Headers requis** :</code>Authorization: Bearer `"},{"location":"api-reference/#lister-les-areasreponse-200","title":"Lister les AREAsR\u00e9ponse (200) :","text":"<p>```json</p> <p>```bash[</p> <p>curl http://localhost:8080/areas \\  {</p> <p>-H \"Authorization: Bearer YOUR_TOKEN\"    \"service\": {</p> <p>```      \"name\": \"google\",</p> <pre><code>  \"label\": \"Google (Gmail)\",\n  \"icon\": \"https://...\"\n},\n\"connectedAt\": \"2026-01-15T10:00:00.000Z\",\n\"expiresAt\": \"2026-01-22T10:00:00.000Z\"\n</code></pre> <p>} ] ```</p>"},{"location":"api-reference/#get-servicesservicenameconnect","title":"<code>GET /services/:serviceName/connect</code>","text":"<p>G\u00e9n\u00e8re une URL OAuth pour connecter un service.</p> <p>Headers requis : <code>Authorization: Bearer &lt;token&gt;</code></p> <p>Services support\u00e9s : <code>google</code>, <code>twitch</code>, <code>microsoft</code></p> <p>R\u00e9ponse (200) : <code>json {   \"url\": \"https://accounts.google.com/o/oauth2/v2/auth?...\" }</code></p>"},{"location":"api-reference/#post-servicesservicenamecallback","title":"<code>POST /services/:serviceName/callback</code>","text":"<p>Finalise la connexion d'un service avec le code OAuth.</p> <p>Headers requis : <code>Authorization: Bearer &lt;token&gt;</code></p> <p>Corps de la requ\u00eate : <code>json {   \"code\": \"code_oauth_recu\",   \"redirectUri\": \"http://localhost:8081/services/callback\" }</code></p> <p>R\u00e9ponse (200) : <code>json {   \"message\": \"Service connected successfully\",   \"connected\": true }</code></p>"},{"location":"api-reference/#route-about","title":"\ud83d\udcca Route About","text":""},{"location":"api-reference/#get-aboutjson","title":"<code>GET /about.json</code>","text":"<p>Retourne les informations sur le serveur et les services disponibles.</p> <p>R\u00e9ponse (200) : <code>json {   \"client\": {     \"host\": \"192.168.1.1\"   },   \"server\": {     \"current_time\": 1705320000,     \"services\": [       {         \"name\": \"google\",         \"actions\": [...],         \"reactions\": [...]       },       {         \"name\": \"twitch\",         \"actions\": [...],         \"reactions\": [...]       }     ]   } }</code></p>"},{"location":"api-reference/#codes-derreur_1","title":"\u26a0\ufe0f Codes d'Erreur","text":"Code Description 200 Succ\u00e8s 201 Ressource cr\u00e9\u00e9e 400 Requ\u00eate invalide 401 Non authentifi\u00e9 403 Acc\u00e8s refus\u00e9 404 Ressource non trouv\u00e9e 409 Conflit (ressource existante) 500 Erreur serveur"},{"location":"api-reference/#exemples-curl","title":"\ud83d\udccb Exemples cURL","text":""},{"location":"api-reference/#inscription","title":"Inscription","text":"<p><code>bash curl -X POST http://localhost:8080/auth/register \\   -H \"Content-Type: application/json\" \\   -d '{\"email\":\"user@test.com\",\"password\":\"test123\",\"name\":\"Test User\"}'</code></p>"},{"location":"api-reference/#connexion","title":"Connexion","text":"<p><code>bash curl -X POST http://localhost:8080/auth/login \\   -H \"Content-Type: application/json\" \\   -d '{\"email\":\"user@test.com\",\"password\":\"test123\"}'</code></p>"},{"location":"api-reference/#creer-une-area_1","title":"Cr\u00e9er une AREA","text":"<p><code>bash curl -X POST http://localhost:8080/areas \\   -H \"Content-Type: application/json\" \\   -H \"Authorization: Bearer &lt;token&gt;\" \\   -d '{     \"name\": \"Timer to Console\",     \"actionService\": \"timer\",     \"actionType\": \"interval\",     \"reactionService\": \"console\",     \"reactionType\": \"log_message\",     \"parameters\": {       \"interval\": 60000,       \"message\": \"Hello from AREA!\"     }   }'</code></p>"},{"location":"architecture/","title":"Architecture Technique# \ud83c\udfdb\ufe0f Architecture Technique","text":""},{"location":"architecture/#vue-densemble-vue-densemble","title":"Vue d'ensemble## Vue d'ensemble","text":"<p>Le projet AREA suit une architecture microservices avec une s\u00e9paration claire entre le frontend, le backend et la base de donn\u00e9es.Le projet AREA suit une architecture microservices avec une s\u00e9paration claire entre le frontend, le backend et la base de donn\u00e9es.</p>"},{"location":"architecture/#stack-technique-stack-technique","title":"Stack Technique## Stack Technique","text":""},{"location":"architecture/#backend-backend","title":"Backend### Backend","text":"<p>| Technologie | Usage || Technologie | Usage |</p> <p>|-------------|-------||-------------|-------|</p> <p>| Node.js | Runtime JavaScript || Node.js | Runtime JavaScript |</p> <p>| Express.js | Framework web || Express.js | Framework web |</p> <p>| Sequelize | ORM PostgreSQL || Sequelize | ORM PostgreSQL |</p> <p>| Passport.js | Authentification OAuth || Passport.js | Authentification OAuth |</p> <p>| JWT | Tokens d'authentification || JWT | Tokens d'authentification |</p> <p>| Axios | Client HTTP || Axios | Client HTTP |</p>"},{"location":"architecture/#frontend-web-frontend-web","title":"Frontend Web### Frontend Web","text":"<p>| Technologie | Usage || Technologie | Usage |</p> <p>|-------------|-------||-------------|-------|</p> <p>| React 18 | Biblioth\u00e8que UI || React 18 | Biblioth\u00e8que UI |</p> <p>| Vite | Build tool || Vite | Build tool |</p> <p>| React Router | Routing || React Router | Routing |</p> <p>| CSS Modules | Styling || CSS Modules | Styling |</p>"},{"location":"architecture/#application-mobile-application-mobile","title":"Application Mobile### Application Mobile","text":"<p>| Technologie | Usage || Technologie | Usage |</p> <p>|-------------|-------||-------------|-------|</p> <p>| React Native | Framework mobile || React Native | Framework mobile |</p> <p>| Expo | Toolchain || Expo | Toolchain |</p> <p>| React Navigation | Navigation || React Navigation | Navigation |</p>"},{"location":"architecture/#infrastructure-infrastructure","title":"Infrastructure### Infrastructure","text":"<p>| Technologie | Usage || Technologie | Usage |</p> <p>|-------------|-------||-------------|-------|</p> <p>| Docker | Conteneurisation || Docker | Conteneurisation |</p> <p>| Docker Compose | Orchestration || Docker Compose | Orchestration |</p> <p>| PostgreSQL | Base de donn\u00e9es || PostgreSQL | Base de donn\u00e9es |</p> <p>| Nginx | Reverse proxy (production) || Nginx | Reverse proxy (production) |</p>"},{"location":"architecture/#schema-darchitecture-schema-darchitecture","title":"Sch\u00e9ma d'Architecture## Sch\u00e9ma d'Architecture","text":"<p>``````</p> <p>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</p> <p>\u2502                         CLIENTS                                  \u2502\u2502                         CLIENTS                                  \u2502</p> <p>\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524</p> <p>\u2502      Frontend Web        \u2502        Application Mobile            \u2502\u2502        Frontend Web             \u2502       Application Mobile       \u2502</p> <p>\u2502      (React/Vite)        \u2502        (React Native/Expo)           \u2502\u2502        (React/Vite)             \u2502       (React Native/Expo)      \u2502</p> <p>\u2502      Port: 8081          \u2502                                      \u2502\u2502        Port: 8081               \u2502                                \u2502</p> <p>\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</p> <pre><code>           \u2502                            \u2502                                  \u2502\n\n           \u2502         HTTP/HTTPS         \u2502                                  \u2502 HTTP/REST\n\n           \u2502                            \u2502                                  \u25bc\n</code></pre> <p>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</p> <p>\u2502                      BACKEND API                                 \u2502\u2502                         BACKEND API                              \u2502</p> <p>\u2502                   (Node.js/Express)                              \u2502\u2502                     (Node.js/Express)                            \u2502</p> <p>\u2502                      Port: 8080                                  \u2502\u2502                         Port: 8080                               \u2502</p> <p>\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524</p> <p>\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510           \u2502</p> <p>\u2502  \u2502   Routes    \u2502  \u2502   Models    \u2502  \u2502   Services              \u2502  \u2502\u2502  \u2502    Routes    \u2502  \u2502   Services   \u2502  \u2502   Models     \u2502           \u2502</p> <p>\u2502  \u2502  - auth     \u2502  \u2502  - User     \u2502  \u2502  - Gmail                \u2502  \u2502\u2502  \u2502              \u2502  \u2502              \u2502  \u2502              \u2502           \u2502</p> <p>\u2502  \u2502  - areas    \u2502  \u2502  - Area     \u2502  \u2502  - GitHub               \u2502  \u2502\u2502  \u2502 - /auth      \u2502  \u2502 - Google     \u2502  \u2502 - User       \u2502           \u2502</p> <p>\u2502  \u2502  - services \u2502  \u2502  - Service  \u2502  \u2502  - Dropbox              \u2502  \u2502\u2502  \u2502 - /areas     \u2502  \u2502 - Twitch     \u2502  \u2502 - Area       \u2502           \u2502</p> <p>\u2502  \u2502  - users    \u2502  \u2502  - UserSvc  \u2502  \u2502  - Twitch               \u2502  \u2502\u2502  \u2502 - /users     \u2502  \u2502 - Microsoft  \u2502  \u2502 - Service    \u2502           \u2502</p> <p>\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502  - Microsoft            \u2502  \u2502\u2502  \u2502 - /services  \u2502  \u2502 - Timer      \u2502  \u2502 - UserService\u2502           \u2502</p> <p>\u2502                                    \u2502  - Timer                 \u2502  \u2502\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502 - Weather    \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518           \u2502</p> <p>\u2502                                    \u2502  - Console               \u2502  \u2502\u2502                    \u2502 - Console    \u2502                              \u2502</p> <p>\u2502                                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\u2502                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                              \u2502</p> <p>\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524</p> <pre><code>                          \u2502\u2502                    AUTOMATION ENGINE                             \u2502\n\n                          \u2502 Sequelize ORM\u2502              (Boucle de v\u00e9rification des AREAs)                  \u2502\n\n                          \u2502\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                  \u2502</p> <p>\u2502                      PostgreSQL                                  \u2502                                  \u2502 Sequelize ORM</p> <p>\u2502                      Port: 5432                                  \u2502                                  \u25bc</p> <p>\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</p> <p>\u2502  Tables:                                                         \u2502\u2502                         POSTGRESQL                               \u2502</p> <p>\u2502  - users        : Utilisateurs                                   \u2502\u2502                         Port: 5432                               \u2502</p> <p>\u2502  - areas        : Automatisations                                \u2502\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524</p> <p>\u2502  - services     : Services disponibles                           \u2502\u2502  Tables: users, areas, services, user_services                   \u2502</p> <p>\u2502  - user_services: Connexions OAuth                               \u2502\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</p> <p>\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518```</p> <p>```</p>"},{"location":"architecture/#modele-de-donnees","title":"Mod\u00e8le de Donn\u00e9es","text":""},{"location":"architecture/#flux-dauthentification","title":"Flux d'authentification","text":""},{"location":"architecture/#entites-principales","title":"Entit\u00e9s principales","text":""},{"location":"architecture/#login-classique","title":"Login classique","text":"<p>```</p> <p>```\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510       \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</p> <p>Client                    Backend                   Database\u2502      User       \u2502       \u2502      Area       \u2502</p> <p>\u2502                          \u2502                          \u2502\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524       \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524</p> <p>\u2502  POST /auth/login        \u2502                          \u2502\u2502 id (UUID)       \u2502\u2500\u2500\u2500\u2510   \u2502 id (UUID)       \u2502</p> <p>\u2502  {email, password}       \u2502                          \u2502\u2502 email           \u2502   \u2502   \u2502 userId (FK)     \u2502\u25c4\u2500\u2500\u2510</p> <p>\u2502 \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;                          \u2502\u2502 password        \u2502   \u2502   \u2502 name            \u2502   \u2502</p> <p>\u2502                          \u2502  SELECT user             \u2502\u2502 name            \u2502   \u2502   \u2502 actionService   \u2502   \u2502</p> <p>\u2502                          \u2502 \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502 googleId        \u2502   \u2502   \u2502 actionType      \u2502   \u2502</p> <p>\u2502                          \u2502                          \u2502\u2502 role            \u2502   \u2514\u2500\u2500\u25ba\u2502 reactionService \u2502   \u2502</p> <p>\u2502                          \u2502  &lt;\u2500\u2500\u2500 user data          \u2502\u2502 twitchId        \u2502       \u2502 reactionType    \u2502   \u2502</p> <p>\u2502                          \u2502                          \u2502\u2502 twitchTokens... \u2502       \u2502 parameters      \u2502   \u2502</p> <p>\u2502                          \u2502  Verify password         \u2502\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2502 active          \u2502   \u2502</p> <p>\u2502                          \u2502  Generate JWT            \u2502         \u2502                \u2502 lastTriggered   \u2502   \u2502</p> <p>\u2502                          \u2502                          \u2502         \u2502                \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502</p> <p>\u2502  &lt;\u2500\u2500\u2500 {token, user}      \u2502                          \u2502         \u2502                                      \u2502</p> <p>\u2502                          \u2502                          \u2502         \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                 \u2502</p> <p>```         \u2502  \u2502    Service      \u2502                 \u2502</p> <pre><code>     \u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524                 \u2502\n</code></pre>"},{"location":"architecture/#oauth-google-id-uuid","title":"OAuth Google         \u2502  \u2502 id (UUID)       \u2502                 \u2502","text":"<pre><code>     \u2502  \u2502 name            \u2502                 \u2502\n</code></pre> <p>```         \u2502  \u2502 label           \u2502                 \u2502</p> <p>Client                 Backend              Google         \u2502  \u2502 icon            \u2502                 \u2502</p> <p>\u2502                       \u2502                    \u2502         \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                 \u2502</p> <p>\u2502  GET /auth/google     \u2502                    \u2502         \u2502           \u2502                          \u2502</p> <p>\u2502 \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;                    \u2502         \u2502           \u2502                          \u2502</p> <p>\u2502                       \u2502                    \u2502         \u25bc           \u25bc                          \u2502</p> <p>\u2502  &lt;\u2500\u2500 Redirect to Google auth page          \u2502\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                  \u2502</p> <p>\u2502 \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502\u2502       UserService          \u2502                  \u2502</p> <p>\u2502                       \u2502                    \u2502\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524                  \u2502</p> <p>\u2502  User authorizes      \u2502                    \u2502\u2502 userId (FK)     \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</p> <p>\u2502                       \u2502                    \u2502\u2502 serviceId (FK)             \u2502</p> <p>\u2502  &lt;\u2500\u2500 Redirect to callback with code        \u2502\u2502 accessToken                \u2502</p> <p>\u2502 \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;                    \u2502\u2502 refreshToken               \u2502</p> <p>\u2502                       \u2502  Exchange code     \u2502\u2502 expiresAt                  \u2502</p> <p>\u2502                       \u2502 \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</p> <p>\u2502                       \u2502                    \u2502```</p> <p>\u2502                       \u2502  &lt;\u2500\u2500 tokens        \u2502</p> <p>\u2502                       \u2502                    \u2502## Flux d'Automatisation</p> <p>\u2502  &lt;\u2500\u2500 JWT + user       \u2502                    \u2502</p> <p>\u2502                       \u2502                    \u2502Le moteur d'automatisation fonctionne selon le sch\u00e9ma suivant :</p> <p>```</p> <p>```</p>"},{"location":"architecture/#flux-dune-area","title":"Flux d'une AREA\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510","text":"<p>\u2502                    AUTOMATION LOOP                               \u2502</p> <p>```\u2502                  (Intervalle: 10 secondes)                       \u2502</p> <p>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</p> <p>\u2502                    MOTEUR D'AUTOMATISATION                       \u2502                              \u2502</p> <p>\u2502                    (automation.js)                               \u2502                              \u25bc</p> <p>\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</p> <p>\u2502                                                                  \u2502              \u2502  R\u00e9cup\u00e9rer toutes les AREAs   \u2502</p> <p>\u2502  1. Charger les AREAs actives                                   \u2502              \u2502         actives               \u2502</p> <p>\u2502     SELECT * FROM areas WHERE isActive = true                    \u2502              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</p> <p>\u2502                                                                  \u2502                              \u2502</p> <p>\u2502  2. Pour chaque AREA:                                           \u2502                              \u25bc</p> <p>\u2502     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</p> <p>\u2502     \u2502  a. R\u00e9cup\u00e9rer le service d'action                    \u2502    \u2502              \u2502   Pour chaque AREA active:    \u2502</p> <p>\u2502     \u2502     service = registry.get(area.actionService)       \u2502    \u2502              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</p> <p>\u2502     \u2502                                                      \u2502    \u2502                              \u2502</p> <p>\u2502     \u2502  b. V\u00e9rifier le trigger                              \u2502    \u2502        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</p> <p>\u2502     \u2502     triggered = service.checkTrigger(...)            \u2502    \u2502        \u25bc                     \u2502                     \u2502</p> <p>\u2502     \u2502                                                      \u2502    \u2502\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510             \u2502             \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</p> <p>\u2502     \u2502  c. Si triggered:                                    \u2502    \u2502\u2502 Action Service\u2502             \u2502             \u2502Reaction Service\u2502</p> <p>\u2502     \u2502     - R\u00e9cup\u00e9rer le service de r\u00e9action               \u2502    \u2502\u2502 checkTrigger()\u2502             \u2502             \u2502executeReaction()\u2502</p> <p>\u2502     \u2502     - Ex\u00e9cuter la r\u00e9action                           \u2502    \u2502\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518             \u2502             \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</p> <p>\u2502     \u2502     - Mettre \u00e0 jour lastTriggered                    \u2502    \u2502        \u2502                     \u2502                     \u25b2</p> <p>\u2502     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502        \u2502         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510        \u2502</p> <p>\u2502                                                                  \u2502        \u2502         \u2502   Trigger d\u00e9clench\u00e9?  \u2502        \u2502</p> <p>\u2502  3. R\u00e9p\u00e9ter toutes les 30 secondes                              \u2502        \u2502         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518        \u2502</p> <p>\u2502                                                                  \u2502        \u2502                     \u2502                    \u2502</p> <p>\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518        \u2502              Oui \u2500\u2500\u2500\u253c\u2500\u2500\u2500 Non             \u2502</p> <p>```        \u2502                     \u2502      \u2502             \u2502</p> <pre><code>    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2518             \u2502\n</code></pre>"},{"location":"architecture/#configuration-docker","title":"Configuration Docker                              \u2502                    \u2502","text":"<pre><code>                          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"architecture/#docker-composeyml","title":"docker-compose.yml```","text":"<p>```yaml## S\u00e9curit\u00e9</p> <p>version: '3.8'</p>"},{"location":"architecture/#authentification","title":"Authentification","text":"<p>services:</p> <p>postgres:1. JWT (JSON Web Tokens)</p> <pre><code>image: postgres:14   - Dur\u00e9e de validit\u00e9 : 7 jours\n\nenvironment:   - Stockage c\u00f4t\u00e9 client : localStorage\n\n  POSTGRES_DB: area   - Header : `Authorization: Bearer &lt;token&gt;`\n\n  POSTGRES_USER: area\n\n  POSTGRES_PASSWORD: area2. **OAuth 2.0**\n\nvolumes:   - Google OAuth pour l'authentification\n\n  - postgres_data:/var/lib/postgresql/data   - Twitch OAuth pour les fonctionnalit\u00e9s\n\nports:   - Microsoft OAuth pour OneDrive/Outlook\n\n  - \"5432:5432\"\n</code></pre>"},{"location":"architecture/#protection-des-routes","title":"Protection des Routes","text":"<p>server:</p> <pre><code>build: ./server```javascript\n\nports:// Middleware d'authentification\n\n  - \"8080:8080\"authenticateToken(req, res, next) {\n\nenvironment:  const token = req.headers['authorization']?.split(' ')[1];\n\n  DATABASE_URL: postgres://area:area@postgres:5432/area  jwt.verify(token, JWT_SECRET, (err, user) =&gt; {\n\ndepends_on:    if (err) return res.sendStatus(403);\n\n  - postgres    req.user = user;\n\nnext();\n</code></pre> <p>client_web:  });</p> <pre><code>build: ./front-web}\n\nports:```\n\n  - \"8081:80\"\n\ndepends_on:## Configuration Docker\n\n  - server\n</code></pre>"},{"location":"architecture/#docker-composeyml_1","title":"docker-compose.yml","text":"<p>volumes:</p> <p>postgres_data:```yaml</p> <p>```services:</p> <p>db:</p>"},{"location":"architecture/#securite-image-postgres15-alpine","title":"S\u00e9curit\u00e9    image: postgres:15-alpine","text":"<pre><code>environment:\n</code></pre>"},{"location":"architecture/#authentification-jwt-postgres_db-area_db","title":"Authentification JWT      POSTGRES_DB: area_db","text":"<pre><code>  POSTGRES_USER: area\n</code></pre> <ul> <li> <p>Tokens sign\u00e9s avec secret      POSTGRES_PASSWORD: area</p> </li> <li> <p>Expiration de 7 jours    ports:</p> </li> <li> <p>Stockage c\u00f4t\u00e9 client (localStorage / AsyncStorage)      - \"5432:5432\"</p> </li> </ul>"},{"location":"architecture/#oauth2-server","title":"OAuth2  server:","text":"<pre><code>build: ./server\n</code></pre> <ul> <li> <p>Flux Authorization Code    ports:</p> </li> <li> <p>Tokens refresh pour les services externes      - \"8080:8080\"</p> </li> <li> <p>Scopes minimaux requis    depends_on:</p> <ul> <li>db</li> </ul> </li> </ul>"},{"location":"architecture/#protection-des-routes_1","title":"Protection des routes","text":"<p>web:</p> <p>```javascript    build: ./front-web</p> <p>const authenticateToken = (req, res, next) =&gt; {    ports:</p> <p>const authHeader = req.headers['authorization'];      - \"8081:80\"</p> <p>const token = authHeader &amp;&amp; authHeader.split(' ')[1];    depends_on:</p> <pre><code>  - server\n</code></pre> <p>if (!token) {```</p> <pre><code>return res.status(401).json({ error: 'Token manquant' });\n</code></pre> <p>}## Variables d'Environnement</p> <p>jwt.verify(token, process.env.JWT_SECRET, (err, user) =&gt; {### Backend (server/.env)</p> <pre><code>if (err) {\n\n  return res.status(403).json({ error: 'Token invalide' });| Variable | Description | Requis |\n\n}|----------|-------------|--------|\n\nreq.user = user;| `PORT` | Port du serveur | Non (d\u00e9faut: 8080) |\n\nnext();| `NODE_ENV` | Environnement | Non |\n</code></pre> <p>});| <code>JWT_SECRET</code> | Cl\u00e9 secr\u00e8te JWT | Oui |</p> <p>};| <code>DB_HOST</code> | H\u00f4te PostgreSQL | Non (d\u00e9faut: localhost) |</p> <p><code>``|</code>DB_PORT` | Port PostgreSQL | Non (d\u00e9faut: 5432) |</p> <p>| <code>DB_NAME</code> | Nom de la base | Non (d\u00e9faut: area_db) | | <code>DB_USER</code> | Utilisateur DB | Non (d\u00e9faut: area) | | <code>DB_PASSWORD</code> | Mot de passe DB | Non (d\u00e9faut: area) | | <code>GOOGLE_CLIENT_ID</code> | ID client Google | Pour OAuth Google | | <code>GOOGLE_CLIENT_SECRET</code> | Secret Google | Pour OAuth Google | | <code>TWITCH_CLIENT_ID</code> | ID client Twitch | Pour Twitch | | <code>TWITCH_CLIENT_SECRET</code> | Secret Twitch | Pour Twitch | | <code>MICROSOFT_CLIENT_ID</code> | ID client Microsoft | Pour Microsoft | | <code>MICROSOFT_CLIENT_SECRET</code> | Secret Microsoft | Pour Microsoft | | <code>CLIENT_URL</code> | URL du frontend | Non (d\u00e9faut: http://localhost:8081) |</p>"},{"location":"contributor/","title":"Guide du Contributeur# \ud83e\udd1d Guide du Contributeur","text":"<p>Bienvenue et merci de contribuer au projet AREA !Bienvenue et merci de contribuer au projet AREA !</p> <p>Ce document d\u00e9crit les conventions, le workflow git recommand\u00e9, la fa\u00e7on d'ouvrir des issues et des PR, et les bonnes pratiques de d\u00e9veloppement.Ce document d\u00e9crit les conventions, le workflow git recommand\u00e9, la fa\u00e7on d'ouvrir des issues et des PR, et les bonnes pratiques de d\u00e9veloppement.</p>"},{"location":"contributor/#avant-de-commencer-","title":"Avant de commencer---","text":"<ol> <li> <p>Lisez la documentation : Parcourez ce site MkDocs et le README.md## \ud83d\udccb Avant de commencer</p> </li> <li> <p>V\u00e9rifiez les issues : \u00c9vitez les doublons en cherchant les issues existantes</p> </li> <li> <p>Fork le repo : Si vous n'avez pas d'acc\u00e8s direct, travaillez sur votre fork1. Lisez la documentation : Parcourez ce site MkDocs et le README.md</p> </li> <li> <p>Configurez votre environnement : Suivez le guide d'installation2. V\u00e9rifiez les issues : \u00c9vitez les doublons en cherchant les issues existantes</p> </li> <li> <p>Fork le repo : Si vous n'avez pas d'acc\u00e8s direct, travaillez sur votre fork</p> </li> </ol>"},{"location":"contributor/#configuration-de-lenvironnement4-configurez-votre-environnement-suivez-le-guide-dinstallation","title":"Configuration de l'environnement4. Configurez votre environnement : Suivez le guide d'installation","text":""},{"location":"contributor/#prerequis-","title":"Pr\u00e9requis---","text":"<ul> <li> <p>Node.js 18+## \ud83d\udd27 Configuration de l'environnement</p> </li> <li> <p>Docker &amp; Docker Compose</p> </li> <li> <p>Git### Pr\u00e9requis</p> </li> <li> <p>Un \u00e9diteur (VS Code recommand\u00e9)</p> </li> <li> <p>Node.js 18+</p> </li> </ul>"},{"location":"contributor/#installation-docker-docker-compose","title":"Installation- Docker &amp; Docker Compose","text":"<ul> <li>Git</li> </ul> <p>```bash- Un \u00e9diteur (VS Code recommand\u00e9)</p>"},{"location":"contributor/#cloner-le-repository","title":"Cloner le repository","text":"<p>git clone https://github.com/JonthanUTF/mirror_area.git### Installation</p> <p>cd mirror_area</p> <pre><code># Backend# Cloner le repository\n\ncd servergit clone https://github.com/JonthanUTF/mirror_area.git\n\nnpm installcd mirror_area\n\ncp .env.example .env\n\n# Configurer les variables d'environnement# Backend\n\ncd server\n\n# Frontend Webnpm install\n\ncd ../front-webcp .env.example .env\n\nnpm install# Configurer les variables d'environnement\n\n\n\n# Application Mobile# Frontend Web\n\ncd ../client-mobilecd ../front-web\n\nnpm installnpm install\n</code></pre>"},{"location":"contributor/#application-mobile","title":"Application Mobile","text":""},{"location":"contributor/#lancer-le-projetcd-client-mobile","title":"Lancer le projetcd ../client-mobile","text":"<p>npm install</p> <p><code>bash</code></p>"},{"location":"contributor/#avec-docker-recommande","title":"Avec Docker (recommand\u00e9)","text":"<p>docker-compose up -d### Lancer le projet</p>"},{"location":"contributor/#sans-dockerbash","title":"Sans Docker```bash","text":""},{"location":"contributor/#terminal-1-backend-avec-docker-recommande","title":"Terminal 1 - Backend# Avec Docker (recommand\u00e9)","text":"<p>cd server &amp;&amp; npm run devdocker-compose up -d</p>"},{"location":"contributor/#terminal-2-frontend-ou-en-local","title":"Terminal 2 - Frontend# Ou en local","text":"<p>cd front-web &amp;&amp; npm run dev# Terminal 1 - Backend</p> <p>```cd server &amp;&amp; npm run dev</p>"},{"location":"contributor/#workflow-git-terminal-2-frontend","title":"Workflow Git# Terminal 2 - Frontend","text":"<p>cd front-web &amp;&amp; npm run dev</p>"},{"location":"contributor/#branches","title":"Branches","text":""},{"location":"contributor/#terminal-3-mobile-optionnel","title":"Terminal 3 - Mobile (optionnel)","text":"<p>| Branche | Usage |cd client-mobile &amp;&amp; npx expo start</p> <p>|---------|-------|```</p> <p>| main | Production stable |</p> <p>| dev | D\u00e9veloppement actif |---</p> <p>| feature/* | Nouvelles fonctionnalit\u00e9s |</p> <p>| fix/* | Corrections de bugs |## \ud83d\udcdd Conventions de Commit</p> <p>| docs/* | Documentation |</p> <p>Nous utilisons Conventional Commits pour un historique clair.</p>"},{"location":"contributor/#creer-une-branche","title":"Cr\u00e9er une branche","text":""},{"location":"contributor/#format","title":"Format","text":"<pre><code># Mettre \u00e0 jour dev```\n\ngit checkout dev&lt;type&gt;(&lt;scope&gt;): &lt;description&gt;\n\ngit pull origin dev\n\n[corps optionnel]\n\n# Cr\u00e9er une branche feature\n\ngit checkout -b feature/ma-fonctionnalite[footer optionnel]\n\n``````\n\n\n\n### Commits### Types\n\n\n\nUtilisez des messages de commit clairs et descriptifs :| Type | Description |\n\n|------|-------------|\n\n```| `feat` | Nouvelle fonctionnalit\u00e9 |\n\ntype(scope): description courte| `fix` | Correction de bug |\n\n| `docs` | Documentation uniquement |\n\nCorps optionnel avec plus de d\u00e9tails.| `style` | Formatage (pas de changement de code) |\n\n```| `refactor` | Refactoring (pas de nouvelle feature ni fix) |\n\n| `test` | Ajout ou modification de tests |\n\nTypes de commits :| `chore` | Maintenance (build, CI, d\u00e9pendances) |\n\n\n\n| Type | Description |### Scopes recommand\u00e9s\n\n|------|-------------|\n\n| feat | Nouvelle fonctionnalit\u00e9 |- `backend` / `server` - API et serveur\n\n| fix | Correction de bug |- `frontend` / `web` - Client web React\n\n| docs | Documentation |- `mobile` - Application mobile\n\n| style | Formatage (pas de changement de code) |- `services` - Services d'int\u00e9gration\n\n| refactor | Refactoring |- `auth` - Authentification\n\n| test | Ajout de tests |- `docs` - Documentation\n\n| chore | Maintenance |\n\n### Exemples\n\nExemples :\n\n```bash\n\n```feat(services): ajouter le service Spotify\n\nfeat(services): add Dropbox service integration\n\nfix(auth): resolve JWT expiration issuefix(auth): corriger la validation du token JWT\n\ndocs(api): update API reference for areas endpoint\n\n```docs(api): documenter les endpoints utilisateur\n\n\n\n### Pull Requestrefactor(backend): simplifier le moteur d'automation\n\n\n\n1. Poussez votre branche :chore(deps): mettre \u00e0 jour React vers 18.3\n\n```bash```\n\ngit push origin feature/ma-fonctionnalite\n\n```---\n\n\n\n2. Ouvrez une PR vers `dev`## \ud83c\udf3f Workflow Git\n\n\n\n3. Remplissez le template de PR :### Branches\n\n   - Description des changements\n\n   - Screenshots si UI modifi\u00e9e| Branche | Usage |\n\n   - Checklist de tests|---------|-------|\n\n| `main` | Production stable |\n\n4. Attendez la review| `develop` | D\u00e9veloppement en cours |\n\n| `feature/*` | Nouvelles fonctionnalit\u00e9s |\n\n## Standards de code| `fix/*` | Corrections de bugs |\n\n| `doc` | Documentation |\n\n### JavaScript/TypeScript\n\n### Workflow\n\n- Utilisez ESLint et Prettier\n\n- \u00c9vitez les `any` en TypeScript1. **Cr\u00e9er une branche** depuis `develop`\n\n- Documentez les fonctions complexes   ```bash\n\n   git checkout develop\n\n```javascript   git pull origin develop\n\n/**   git checkout -b feature/mon-feature\n\n * V\u00e9rifie si un utilisateur est authentifi\u00e9   ```\n\n * @param {Request} req - Requ\u00eate Express\n\n * @returns {boolean} - True si authentifi\u00e92. **D\u00e9velopper** avec des commits atomiques\n\n */\n\nfunction isAuthenticated(req) {3. **Push** et cr\u00e9er une Pull Request\n\n  return !!req.user;   ```bash\n\n}   git push origin feature/mon-feature\n\n```   ```\n\n\n\n### React4. **Review** par un autre contributeur\n\n\n\n- Composants fonctionnels avec hooks5. **Merge** dans `develop` apr\u00e8s approbation\n\n- Props typ\u00e9es (TypeScript) ou PropTypes\n\n- Un composant par fichier---\n\n\n\n```jsx## \ud83d\udcee Pull Requests\n\nfunction MyComponent({ title, onClick }) {\n\n  return (### Checklist PR\n\n    &lt;button onClick={onClick}&gt;\n\n      {title}- [ ] Le code compile sans erreur\n\n    &lt;/button&gt;- [ ] Les tests passent\n\n  );- [ ] La documentation est mise \u00e0 jour si n\u00e9cessaire\n\n}- [ ] Le code suit les conventions du projet\n\n```- [ ] Les commits suivent Conventional Commits\n\n\n\n### CSS### Template PR\n\n\n\n- Utilisez des classes descriptives```markdown\n\n- \u00c9vitez les styles inline## Description\n\n- Pr\u00e9f\u00e9rez les variables CSS\n\nBr\u00e8ve description des changements.\n\n```css\n\n.area-card {## Type de changement\n\n  background: var(--bg-primary);\n\n  border-radius: var(--radius-md);- [ ] Bug fix\n\n  padding: var(--spacing-md);- [ ] Nouvelle fonctionnalit\u00e9\n\n}- [ ] Breaking change\n\n```- [ ] Documentation\n\n\n\n## Tests## Tests\n\n\n\n### Lancer les testsD\u00e9crivez les tests effectu\u00e9s.\n\n\n\n```bash## Screenshots (si applicable)\n\n# Backend\n\ncd serverAjoutez des captures d'\u00e9cran.\n\nnpm test```\n\n\n\n# Frontend---\n\ncd front-web\n\nnpm test## \ud83d\udc1b Signaler un Bug\n</code></pre>"},{"location":"contributor/#avant-de-creer-une-issue","title":"Avant de cr\u00e9er une issue","text":""},{"location":"contributor/#ecrire-des-tests","title":"\u00c9crire des tests","text":"<ol> <li>V\u00e9rifiez que le bug n'est pas d\u00e9j\u00e0 signal\u00e9</li> </ol> <p>```javascript2. Testez avec la derni\u00e8re version</p> <p>describe('Area API', () =&gt; {3. Isolez le probl\u00e8me (reproduire le bug)</p> <p>it('should create a new area', async () =&gt; {</p> <pre><code>const response = await request(app)### Template Issue Bug\n\n  .post('/areas')\n\n  .set('Authorization', `Bearer ${token}`)```markdown\n\n  .send({**Description**\n\n    name: 'Test Area',Description claire du bug.\n\n    actionService: 'timer',\n\n    actionType: 'interval',**\u00c9tapes pour reproduire**\n\n    reactionService: 'console',1. Aller sur '...'\n\n    reactionType: 'log_message',2. Cliquer sur '...'\n\n    parameters: { interval: 60000 }3. Voir l'erreur\n\n  });\n\n**Comportement attendu**\n\nexpect(response.status).toBe(201);Ce qui devrait se passer.\n\nexpect(response.body.name).toBe('Test Area');\n</code></pre> <p>});Screenshots</p> <p>});Si applicable.</p> <pre><code>**Environnement**\n\n## Ajouter un nouveau service- OS: [e.g. Ubuntu 22.04]\n\n- Navigateur: [e.g. Chrome 120]\n\n1. Cr\u00e9er le fichier dans `server/src/services/implementations/`- Version Node: [e.g. 18.19.0]\n</code></pre> <pre><code>const ServiceBase = require('../ServiceBase');---\n\n\n\nclass MonService extends ServiceBase {## \ud83d\udca1 Proposer une Fonctionnalit\u00e9\n\n    constructor() {\n\n        super('monservice', 'Mon Service', 'icon-url');### Template Feature Request\n\n\n\n        this.registerAction('mon_action', 'Description', {```markdown\n\n            param1: 'string'**Probl\u00e8me**\n\n        });Quel probl\u00e8me cette fonctionnalit\u00e9 r\u00e9sout-elle ?\n\n\n\n        this.registerReaction('ma_reaction', 'Description', {**Solution propos\u00e9e**\n\n            param2: 'number'Description de la solution.\n\n        });\n\n    }**Alternatives consid\u00e9r\u00e9es**\n\n    Autres approches envisag\u00e9es.\n\n    async checkTrigger(action, area, params) {\n\n        // Impl\u00e9mentation**Contexte suppl\u00e9mentaire**\n\n        return false;Informations additionnelles.\n\n    }```\n\n\n\n    async executeReaction(reaction, area, params) {---\n\n        // Impl\u00e9mentation\n\n    }## \ud83e\uddea Tests\n\n}\n\n### Lancer les tests\n\nmodule.exports = new MonService();\n\n``````bash\n\n# Backend\n\n2. Le service sera automatiquement charg\u00e9 par le loadercd server\n\nnpm test\n\n3. Si OAuth n\u00e9cessaire, ajouter la configuration dans `routes/services.js`\n\n# Frontend (si configur\u00e9)\n\n4. Documenter le service dans `docs/services/`cd front-web\n\nnpm test\n\n## Issues```\n\n\n\n### Ouvrir une issue### \u00c9crire des tests\n\n\n\nUtilisez les templates fournis :- Chaque nouvelle fonctionnalit\u00e9 doit avoir des tests\n\n- Les corrections de bugs doivent inclure un test de r\u00e9gression\n\n- Bug report : Pour signaler un bug- Visez une couverture de code &gt; 80%\n\n- Feature request : Pour proposer une fonctionnalit\u00e9\n\n- Documentation : Pour des am\u00e9liorations de docs---\n\n\n\n### Labels## \ud83d\udcc1 Structure du Code\n\n\n\n| Label | Description |### Backend (server/)\n\n|-------|-------------|\n\n| bug | Quelque chose ne fonctionne pas |```\n\n| enhancement | Nouvelle fonctionnalit\u00e9 |server/src/\n\n| documentation | Documentation |\u251c\u2500\u2500 routes/        # Endpoints API\n\n| good first issue | Bon pour d\u00e9buter |\u251c\u2500\u2500 models/        # Mod\u00e8les Sequelize\n\n| help wanted | Aide bienvenue |\u251c\u2500\u2500 services/      # Logique m\u00e9tier et int\u00e9grations\n\n\u2502   \u2514\u2500\u2500 implementations/  # Services AREA\n\n## Questions\u2514\u2500\u2500 config/        # Configuration\n</code></pre> <p>Si vous avez des questions :</p>"},{"location":"contributor/#frontend-front-web","title":"Frontend (front-web/)","text":"<ol> <li> <p>Consultez d'abord la documentation</p> </li> <li> <p>Cherchez dans les issues existantes```</p> </li> <li> <p>Ouvrez une nouvelle issue avec le label \"question\"front-web/src/</p> </li> </ol> <p>\u251c\u2500\u2500 pages/         # Pages/routes \u251c\u2500\u2500 components/    # Composants r\u00e9utilisables \u2514\u2500\u2500 assets/        # Images, styles <pre><code>### Mobile (client-mobile/)\n</code></pre> client-mobile/src/ \u251c\u2500\u2500 screens/       # \u00c9crans \u251c\u2500\u2500 components/    # Composants \u251c\u2500\u2500 navigation/    # Configuration navigation \u2514\u2500\u2500 api/          # Client API <pre><code>---\n\n## \ud83c\udfa8 Style de Code\n\n### JavaScript/TypeScript\n\n- Indentation : 2 espaces\n- Quotes : simples `'`\n- Point-virgule : oui\n- Nommage : camelCase pour variables/fonctions, PascalCase pour classes/composants\n\n### Outils recommand\u00e9s\n\n- **ESLint** : Linting\n- **Prettier** : Formatage\n- **EditorConfig** : Coh\u00e9rence \u00e9diteur\n\n---\n\n## \ud83d\udcde Contact\n\n- **Issues GitHub** : Pour bugs et features\n- **Pull Requests** : Pour contributions\n- **Email** : Voir le profil du repo\n\n---\n\nMerci de contribuer \u00e0 AREA ! \ud83d\ude80\n- chore \u2013 t\u00e2ches de maintenance (build, deps)\n- refactor \u2013 refactor sans ajout de fonctionnalit\u00e9\n- test \u2013 ajout/modification de tests\n\n---\n\n## 3\ufe0f\u20e3 Branches &amp; workflow\n\nMod\u00e8le propos\u00e9 (adaptable selon r\u00e8gles du cours / orga) :\n\n- `main` : code stable (production). Ne pas pousser directement.\n- `dev` : int\u00e9gration continue des fonctionnalit\u00e9s valid\u00e9es.\n- `feature/&lt;desc&gt;` : branche pour chaque nouvelle fonctionnalit\u00e9.\n- `fix/&lt;desc&gt;` : branche pour correctifs.\n\nR\u00e8gles :\n\n- Cr\u00e9e les branches depuis `dev`.\n- Ouvre une PR de `feature/*` ou `fix/*` vers `dev`.\n- `dev` est mergeable vers `main` via PR apr\u00e8s validation (tests + revue).\n- Protections recommand\u00e9es : protection de `main` et `dev`, checks obligatoires, revue obligatoire.\n\nRemarques pratiques :\n\n- Rebase r\u00e9guli\u00e8rement sur `dev` pour limiter les conflits.\n- Nomme les branches claires et courtes (`feature/login-oauth`).\n\n---\n\n## 4\ufe0f\u20e3 Issues\n\n- Toujours cr\u00e9er une issue pour un bug ou une nouvelle feature.\n- Utilise les templates fournis (bug/feature/documentation/enhancement) si pr\u00e9sents.\n\nContenu minimal d'une bonne issue :\n\n- Titre explicite\n- Contexte et version\n- \u00c9tapes pour reproduire (pour les bugs)\n- Comportement attendu vs observ\u00e9\n- Logs / captures / exemples\n- Tags/label sugg\u00e9r\u00e9s\n\nQuand soumettre :\n\n- Pour une feature : explique la valeur ajout\u00e9e, les crit\u00e8res d'acceptation et les d\u00e9pendances.\n- Pour un bug : fournis un cas reproductible et, si possible, une PR de correctif.\n\n---\n\n## 5\ufe0f\u20e3 Pull Requests (PR)\n\nPR \u2192 doit cibler `dev` (sauf r\u00e8gle contraire).\n\nChaque PR doit contenir :\n\n- Titre clair (ex: `feat(api): support OAuth callback`)\n- Description : ce qui change, pourquoi, impact, screenshots si n\u00e9cessaire\n- Issues li\u00e9es : `Closes #&lt;num&gt;` pour fermer automatiquement une issue\n- Checklist : tests, build, doc\n\nTemplate de PR recommand\u00e9 :\n</code></pre> Titre: feat(): courte description <p>Description: - Qu'est-ce qui a \u00e9t\u00e9 chang\u00e9 ? - Pourquoi ?</p> <p>Issues li\u00e9es: - Closes # <p>Checklist: - [ ] Code format\u00e9 et lint pass\u00e9 - [ ] Tests unitaires ajout\u00e9s / mis \u00e0 jour (si applicable) - [ ] Documentation mise \u00e0 jour (si applicable) <pre><code>Bonnes pratiques :\n\n- Faire des PR petites et cibl\u00e9es.\n- D\u00e9crire clairement l'impact et tout risque potentiel.\n- Demander au moins une revue \u2014 ajouter des reviewers pertinents.\n\n---\n\n## 6\ufe0f\u20e3 Revue de code\n\nCrit\u00e8res de revue :\n\n- Lisibilit\u00e9 et architecture\n- Tests ajout\u00e9s/maintenus\n- Respect des r\u00e8gles de s\u00e9curit\u00e9 et absence de secrets\n- Pas de r\u00e9gressions connues\n\nComportement attendu des reviewers :\n\n- \u00catre constructif et concret\n- Proposer des alternatives/cl\u00e9s d'am\u00e9lioration\n- Valider les tests et checks CI\n\n---\n\n## 7\ufe0f\u20e3 Tests &amp; CI\n\n- Ajoute/maintiens des tests pour les changements importants.\n- Assure-toi que la CI (GitHub Actions etc.) passe avant de demander le merge.\n- Les checks peuvent inclure lint, build, tests unitaires et d\u00e9ploiement de preview.\n\n---\n\n## 8\ufe0f\u20e3 Documentation &amp; MkDocs\n\n- La documentation est g\u00e9r\u00e9e avec MkDocs (voir `mkdocs.yml`).\n- Pour d\u00e9velopper localement :\n\n```bash\n# cr\u00e9er et activer un venv (optionnel)\npython3 -m venv .venv\nsource .venv/bin/activate\npip install mkdocs mkdocs-material\nmkdocs serve\n# ouvrir http://127.0.0.1:8000\n</code></pre></p> <ul> <li>Pour d\u00e9ployer sur GitHub Pages : <code>mkdocs gh-deploy</code> (ou via Actions).</li> <li>Mets \u00e0 jour la doc dans <code>docs/</code> et ajoute une ligne dans <code>mkdocs.yml</code> <code>nav:</code> si tu veux ordonner les pages.</li> </ul>"},{"location":"contributor/#9-checklist-contribution-avant-pr","title":"9\ufe0f\u20e3 Checklist contribution (avant PR)","text":"<ul> <li>[ ] Le code compile et fonctionne localement</li> <li>[ ] Les tests passent</li> <li>[ ] Les messages de commit respectent Conventional Commits</li> <li>[ ] La PR contient une description et les issues li\u00e9es</li> <li>[ ] La doc est mise \u00e0 jour si n\u00e9cessaire</li> </ul>"},{"location":"contributor/#commandes-utiles","title":"\ud83d\udd27 Commandes utiles","text":"<pre><code># cr\u00e9er une branche\ngit checkout -b feature/ma-feature dev\n\n# faire un commit\ngit add .\ngit commit -m \"feat(scope): courte description\"\n\n# pousser\ngit push origin feature/ma-feature\n</code></pre>"},{"location":"contributor/#note-pour-projets-scolaires-ex-epitech-area","title":"Note pour projets scolaires (ex: Epitech / Area)","text":"<p>Si ce d\u00e9p\u00f4t correspond \u00e0 un projet de type \"Area\" (ou un projet d'\u00e9cole comme Epitech) :</p> <ul> <li>V\u00e9rifie les consignes sp\u00e9cifiques du cours (naming, d\u00e9p\u00f4t, livrables).</li> <li>Certaines \u00e9coles demandent des branches/PR sp\u00e9cifiques ou un format de rendu : adapte le workflow ci-dessus si n\u00e9cessaire.</li> </ul>"},{"location":"contributor/#liens-utiles","title":"Liens utiles","text":"<ul> <li>Conventional Commits \u2014 https://www.conventionalcommits.org/</li> <li>GitHub Actions \u2014 https://docs.github.com/en/actions</li> <li>MkDocs \u2014 https://www.mkdocs.org/</li> </ul> <p>Merci pour ta contribution \u2014 ouvre une PR et on te fera une revue rapidement !</p>"},{"location":"backend/","title":"Backend - Vue d'ensemble","text":"<p>Documentation du serveur backend AREA d\u00e9velopp\u00e9 avec Node.js et Express.js.</p>"},{"location":"backend/#structure-du-projet","title":"Structure du Projet","text":"<pre><code>server/\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 app.js              # Point d'entr\u00e9e de l'application\n\u2502   \u251c\u2500\u2500 config/\n\u2502   \u2502   \u2514\u2500\u2500 passport.js     # Configuration OAuth (Google, Twitch)\n\u2502   \u251c\u2500\u2500 models/\n\u2502   \u2502   \u251c\u2500\u2500 index.js        # D\u00e9finition des mod\u00e8les Sequelize\n\u2502   \u2502   \u251c\u2500\u2500 Service.js      # Mod\u00e8le Service\n\u2502   \u2502   \u2514\u2500\u2500 UserService.js  # Mod\u00e8le UserService (jonction)\n\u2502   \u251c\u2500\u2500 routes/\n\u2502   \u2502   \u251c\u2500\u2500 auth.js         # Routes d'authentification\n\u2502   \u2502   \u251c\u2500\u2500 areas.js        # Routes CRUD des AREAs\n\u2502   \u2502   \u251c\u2500\u2500 users.js        # Routes utilisateurs\n\u2502   \u2502   \u2514\u2500\u2500 services.js     # Routes connexion services\n\u2502   \u2514\u2500\u2500 services/\n\u2502       \u251c\u2500\u2500 ServiceBase.js  # Classe de base des services\n\u2502       \u251c\u2500\u2500 automation.js   # Moteur d'automatisation\n\u2502       \u251c\u2500\u2500 registry.js     # Registre des services\n\u2502       \u251c\u2500\u2500 loader.js       # Chargement dynamique\n\u2502       \u251c\u2500\u2500 aboutService.js # Service about.json\n\u2502       \u2514\u2500\u2500 implementations/\n\u2502           \u251c\u2500\u2500 ConsoleService.js\n\u2502           \u251c\u2500\u2500 DropboxService.js\n\u2502           \u251c\u2500\u2500 EmailService.js\n\u2502           \u251c\u2500\u2500 GitHubService.js\n\u2502           \u251c\u2500\u2500 MicrosoftService.js\n\u2502           \u251c\u2500\u2500 TimerService.js\n\u2502           \u2514\u2500\u2500 TwitchService.js\n\u251c\u2500\u2500 config/\n\u2502   \u2514\u2500\u2500 config.json         # Configuration Sequelize\n\u251c\u2500\u2500 migrations/             # Migrations SQL\n\u251c\u2500\u2500 tests/                  # Tests API\n\u251c\u2500\u2500 Dockerfile\n\u251c\u2500\u2500 package.json\n\u2514\u2500\u2500 seed.js                 # Seed de la base de donn\u00e9es\n</code></pre>"},{"location":"backend/#demarrage","title":"D\u00e9marrage","text":""},{"location":"backend/#installation","title":"Installation","text":"<pre><code>cd server\nnpm install\n</code></pre>"},{"location":"backend/#configuration","title":"Configuration","text":"<p>Cr\u00e9ez un fichier <code>.env</code> :</p> <pre><code># Base de donn\u00e9es\nDATABASE_URL=postgres://user:password@localhost:5432/area\n\n# JWT\nJWT_SECRET=votre-secret-jwt\n\n# OAuth Google\nGOOGLE_CLIENT_ID=votre-client-id\nGOOGLE_CLIENT_SECRET=votre-client-secret\n\n# OAuth Twitch\nTWITCH_CLIENT_ID=votre-client-id\nTWITCH_CLIENT_SECRET=votre-client-secret\nTWITCH_CALLBACK_URL=http://localhost:8080/auth/twitch/callback\n\n# OAuth Microsoft\nMICROSOFT_CLIENT_ID=votre-client-id\nMICROSOFT_CLIENT_SECRET=votre-client-secret\n\n# OAuth GitHub\nGITHUB_CLIENT_ID=votre-client-id\nGITHUB_CLIENT_SECRET=votre-client-secret\n\n# OAuth Dropbox\nDROPBOX_CLIENT_ID=votre-client-id\nDROPBOX_CLIENT_SECRET=votre-client-secret\n\n# Configuration\nPORT=8080\nCLIENT_URL=http://localhost:8081\n</code></pre>"},{"location":"backend/#developpement","title":"D\u00e9veloppement","text":"<pre><code>npm run dev\n</code></pre> <p>Le serveur sera disponible sur <code>http://localhost:8080</code>.</p>"},{"location":"backend/#points-dapi-principaux","title":"Points d'API principaux","text":"Endpoint Description POST /auth/register Inscription POST /auth/login Connexion GET /auth/google OAuth Google GET /auth/twitch OAuth Twitch GET /areas Liste des AREAs POST /areas Cr\u00e9er une AREA GET /services Liste des services GET /about.json Informations serveur"},{"location":"backend/#modeles-de-donnees","title":"Mod\u00e8les de donn\u00e9es","text":""},{"location":"backend/#user","title":"User","text":"Champ Type Description id INTEGER Cl\u00e9 primaire email STRING Email unique password STRING Hash du mot de passe isAdmin BOOLEAN Administrateur googleId STRING ID Google OAuth twitchId STRING ID Twitch OAuth"},{"location":"backend/#area","title":"Area","text":"Champ Type Description id INTEGER Cl\u00e9 primaire name STRING Nom de l'AREA userId INTEGER Propri\u00e9taire actionService STRING Service d\u00e9clencheur actionType STRING Type d'action reactionService STRING Service r\u00e9action reactionType STRING Type de r\u00e9action parameters JSON Param\u00e8tres isActive BOOLEAN \u00c9tat d'activation lastTriggered DATE Dernier d\u00e9clenchement"},{"location":"backend/#service","title":"Service","text":"Champ Type Description id INTEGER Cl\u00e9 primaire name STRING Nom du service description STRING Description icon STRING URL de l'ic\u00f4ne"},{"location":"backend/#architecture-des-services","title":"Architecture des services","text":"<p>Chaque service h\u00e9rite de <code>ServiceBase</code> et impl\u00e9mente :</p> <ul> <li><code>registerAction(name, description, params)</code> - Enregistre une action</li> <li><code>registerReaction(name, description, params)</code> - Enregistre une r\u00e9action</li> <li><code>checkTrigger(action, area, params)</code> - V\u00e9rifie si le trigger est d\u00e9clench\u00e9</li> <li><code>executeReaction(reaction, area, params)</code> - Ex\u00e9cute la r\u00e9action</li> </ul> <pre><code>class MyService extends ServiceBase {\n    constructor() {\n        super('myservice', 'Mon Service', 'icon-url');\n\n        this.registerAction('my_action', 'Description', {\n            param1: 'string'\n        });\n\n        this.registerReaction('my_reaction', 'Description', {\n            param2: 'number'\n        });\n    }\n\n    async checkTrigger(action, area, params) {\n        // Logique de v\u00e9rification\n        return true; // ou false\n    }\n\n    async executeReaction(reaction, area, params) {\n        // Ex\u00e9cution de la r\u00e9action\n    }\n}\n</code></pre>"},{"location":"backend/#moteur-dautomatisation","title":"Moteur d'automatisation","text":"<p>Le fichier <code>automation.js</code> contient le moteur qui :</p> <ol> <li>Charge toutes les AREAs actives</li> <li>V\u00e9rifie p\u00e9riodiquement les triggers</li> <li>Ex\u00e9cute les r\u00e9actions correspondantes</li> <li>Met \u00e0 jour <code>lastTriggered</code></li> </ol> <pre><code>// Boucle principale (toutes les 30 secondes)\nsetInterval(async () =&gt; {\n    const areas = await Area.findAll({ where: { isActive: true } });\n\n    for (const area of areas) {\n        const service = registry.get(area.actionService);\n        const triggered = await service.checkTrigger(\n            area.actionType,\n            area,\n            area.parameters\n        );\n\n        if (triggered) {\n            const reactionService = registry.get(area.reactionService);\n            await reactionService.executeReaction(\n                area.reactionType,\n                area,\n                area.parameters\n            );\n            await area.update({ lastTriggered: new Date() });\n        }\n    }\n}, 30000);\n</code></pre>"},{"location":"backend/services/","title":"Services Backend","text":"<p>Guide d\u00e9taill\u00e9 de l'impl\u00e9mentation des services dans le backend AREA.</p>"},{"location":"backend/services/#architecture-des-services","title":"Architecture des Services","text":"<p>Tous les services h\u00e9ritent de la classe <code>ServiceBase</code> qui d\u00e9finit l'interface commune.</p>"},{"location":"backend/services/#servicebase","title":"ServiceBase","text":"<pre><code>class ServiceBase {\n    constructor(name, label, icon) {\n        this.name = name;      // Identifiant technique\n        this.label = label;    // Nom d'affichage\n        this.icon = icon;      // URL de l'ic\u00f4ne\n        this.actions = [];     // Liste des actions (triggers)\n        this.reactions = [];   // Liste des r\u00e9actions\n    }\n\n    // Enregistrer une action\n    registerAction(name, description, options = {}) { ... }\n\n    // Enregistrer une r\u00e9action\n    registerReaction(name, description, options = {}) { ... }\n\n    // \u00c0 impl\u00e9menter : v\u00e9rifier si le trigger est activ\u00e9\n    async checkTrigger(action, area, params) { ... }\n\n    // \u00c0 impl\u00e9menter : ex\u00e9cuter la r\u00e9action\n    async executeReaction(reaction, area, params) { ... }\n}\n</code></pre>"},{"location":"backend/services/#google-gmail-service","title":"Google (Gmail) Service","text":"<p>Fichier : <code>EmailService.js</code></p>"},{"location":"backend/services/#actions","title":"Actions","text":"Action Description Param\u00e8tres new_email Nouvel email re\u00e7u from, subject email_received Email re\u00e7u g\u00e9n\u00e9rique - email_from_sender Email d'un exp\u00e9diteur sender email_with_keyword Email avec mot-cl\u00e9 keyword email_with_attachment Email avec pi\u00e8ce jointe -"},{"location":"backend/services/#reactions","title":"R\u00e9actions","text":"R\u00e9action Description Param\u00e8tres send_email Envoyer un email recipient, subject, body"},{"location":"backend/services/#implementation","title":"Impl\u00e9mentation","text":"<pre><code>async checkTrigger(action, area, params) {\n    const userService = await getUserServiceToken(area.userId, 'google');\n\n    if (action === 'new_email') {\n        const emails = await fetchGmailEmails(userService.accessToken);\n        return emails.some(email =&gt; {\n            const matchFrom = !params.from || email.from.includes(params.from);\n            const matchSubject = !params.subject || \n                email.subject.includes(params.subject);\n            return matchFrom &amp;&amp; matchSubject;\n        });\n    }\n    return false;\n}\n\nasync executeReaction(reaction, area, params) {\n    if (reaction === 'send_email') {\n        await sendGmailEmail(\n            userService.accessToken,\n            params.recipient,\n            params.subject,\n            params.body\n        );\n    }\n}\n</code></pre>"},{"location":"backend/services/#github-service","title":"GitHub Service","text":"<p>Fichier : <code>GitHubService.js</code></p>"},{"location":"backend/services/#actions_1","title":"Actions","text":"Action Description Param\u00e8tres issue_created Nouvelle issue owner, repo pr_opened PR ouverte owner, repo push_committed Nouveau commit owner, repo, branch release_published Nouvelle release owner, repo repo_starred Repo mis en favori owner, repo"},{"location":"backend/services/#reactions_1","title":"R\u00e9actions","text":"R\u00e9action Description Param\u00e8tres create_issue Cr\u00e9er une issue owner, repo, title, body comment_issue Commenter une issue owner, repo, issue_number, body create_file Cr\u00e9er un fichier owner, repo, path, content, message create_release Cr\u00e9er une release owner, repo, tag_name, name, body"},{"location":"backend/services/#dropbox-service","title":"Dropbox Service","text":"<p>Fichier : <code>DropboxService.js</code></p>"},{"location":"backend/services/#actions_2","title":"Actions","text":"Action Description Param\u00e8tres file_added Fichier ajout\u00e9 folder_path file_modified Fichier modifi\u00e9 folder_path file_deleted_anywhere Fichier supprim\u00e9 -"},{"location":"backend/services/#reactions_2","title":"R\u00e9actions","text":"R\u00e9action Description Param\u00e8tres upload_file Uploader un fichier path, content create_folder Cr\u00e9er un dossier path delete_file Supprimer un fichier path"},{"location":"backend/services/#twitch-service","title":"Twitch Service","text":"<p>Fichier : <code>TwitchService.js</code></p>"},{"location":"backend/services/#actions_3","title":"Actions","text":"Action Description Param\u00e8tres streamer_live Streamer en live username"},{"location":"backend/services/#reactions_3","title":"R\u00e9actions","text":"R\u00e9action Description Param\u00e8tres block_user Bloquer un utilisateur target_user_id, reason"},{"location":"backend/services/#implementation_1","title":"Impl\u00e9mentation","text":"<pre><code>async checkTrigger(action, area, params) {\n    if (action === 'streamer_live') {\n        const isLive = await checkTwitchStreamStatus(params.username);\n        const wasLive = area.metadata?.wasLive || false;\n\n        // D\u00e9clenche uniquement lors du passage offline -&gt; online\n        if (isLive &amp;&amp; !wasLive) {\n            await area.update({ metadata: { wasLive: true } });\n            return true;\n        }\n\n        if (!isLive) {\n            await area.update({ metadata: { wasLive: false } });\n        }\n        return false;\n    }\n    return false;\n}\n</code></pre>"},{"location":"backend/services/#microsoft-service","title":"Microsoft Service","text":"<p>Fichier : <code>MicrosoftService.js</code></p>"},{"location":"backend/services/#actions-onedrive","title":"Actions OneDrive","text":"Action Description Param\u00e8tres onedrive_new_file Nouveau fichier folder onedrive_file_modified Fichier modifi\u00e9 folder"},{"location":"backend/services/#actions-outlook","title":"Actions Outlook","text":"Action Description Param\u00e8tres outlook_new_email Nouvel email from, subject outlook_email_important Email important -"},{"location":"backend/services/#reactions_4","title":"R\u00e9actions","text":"R\u00e9action Description Param\u00e8tres onedrive_upload Upload fichier path, filename, content onedrive_create_folder Cr\u00e9er dossier path outlook_send_email Envoyer email recipient, subject, body"},{"location":"backend/services/#timer-service","title":"Timer Service","text":"<p>Fichier : <code>TimerService.js</code></p>"},{"location":"backend/services/#actions_4","title":"Actions","text":"Action Description Param\u00e8tres interval Intervalle r\u00e9gulier interval (ms)"},{"location":"backend/services/#implementation_2","title":"Impl\u00e9mentation","text":"<pre><code>async checkTrigger(action, area, params) {\n    const now = Date.now();\n\n    if (action === 'interval') {\n        const interval = params.interval || 60000;\n        const lastTriggered = area.lastTriggered \n            ? new Date(area.lastTriggered).getTime() \n            : 0;\n\n        if (now - lastTriggered &gt;= interval) {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>"},{"location":"backend/services/#console-service","title":"Console Service","text":"<p>Fichier : <code>ConsoleService.js</code></p>"},{"location":"backend/services/#reactions_5","title":"R\u00e9actions","text":"R\u00e9action Description Param\u00e8tres log_message Logger un message message"},{"location":"backend/services/#implementation_3","title":"Impl\u00e9mentation","text":"<pre><code>async executeReaction(reaction, area, params) {\n    if (reaction === 'log_message') {\n        const message = params.message || `AREA ${area.id} triggered`;\n        console.log(`[ConsoleService] ${message}`);\n    }\n}\n</code></pre>"},{"location":"backend/services/#creer-un-nouveau-service","title":"Cr\u00e9er un nouveau service","text":"<ol> <li>Cr\u00e9er le fichier dans <code>implementations/</code></li> <li>H\u00e9riter de ServiceBase</li> <li>Enregistrer les actions et r\u00e9actions dans le constructeur</li> <li>Impl\u00e9menter checkTrigger et executeReaction</li> <li>Exporter une instance singleton</li> </ol> <pre><code>const ServiceBase = require('../ServiceBase');\n\nclass NouveauService extends ServiceBase {\n    constructor() {\n        super('nouveau', 'Nouveau Service', 'icon-url');\n\n        this.registerAction('mon_action', 'Description', {\n            param: 'string'\n        });\n\n        this.registerReaction('ma_reaction', 'Description', {\n            param: 'string'\n        });\n    }\n\n    async checkTrigger(action, area, params) {\n        // Logique de v\u00e9rification\n        return false;\n    }\n\n    async executeReaction(reaction, area, params) {\n        // Logique d'ex\u00e9cution\n    }\n}\n\nmodule.exports = new NouveauService();\n</code></pre> <p>Le service sera automatiquement charg\u00e9 par le loader au d\u00e9marrage.</p>"},{"location":"benchmark/backend/","title":"Backend Framework","text":""},{"location":"benchmark/backend/#benchmark-table","title":"Benchmark Table","text":"Technology Perf Dev Ease Ecosystem Background Jobs Docker Maintainability Notes Node.js (NestJS) \u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50\u2b50 Best ecosystem for OAuth + service SDKs Python (FastAPI) \u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50\u2b50 Fastest to write glue logic Go (Gin) \u2b50\u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50 \u2b50\u2b50 \u2b50\u2b50\u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50\u2b50\u2b50 Best performance &amp; reliability"},{"location":"benchmark/backend/#candidates","title":"Candidates","text":""},{"location":"benchmark/backend/#nodejs","title":"Node.js","text":"<p>Best ecosystem for third-party APIs (Google, GitHub, Outlook, Dropbox all have official Node SDKs). Excellent async model for hook polling.</p> <p>Pros:</p> <ul> <li>Easiest integration with OAuth2 providers</li> <li>NestJS makes clean, modular architecture</li> <li>Tons of libraries for queues (BullMQ), schedulers, webhooks</li> <li>Lightweight Docker images (node:18-slim)</li> </ul> <p>Cons:</p> <ul> <li>CPU-bound tasks slower (not a big issue for the project)</li> </ul>"},{"location":"benchmark/backend/#python-fastapi","title":"Python (FastAPI)","text":"<p>FastAPI is extremely productive and perfect for glue code. Async is strong, but ecosystem for API SDKs is weaker than Node.</p> <p>Pros:</p> <ul> <li>Fastest to prototype</li> <li>Beautiful docs auto-generated (Swagger)</li> <li>Best data model system (Pydantic)</li> </ul> <p>Cons:</p> <ul> <li>Fewer official SDKs for big services</li> <li>Async workers require extra config (Celery / RQ)</li> </ul>"},{"location":"benchmark/backend/#go-gin-fiber","title":"Go (Gin / Fiber)","text":"<p>Very good concurrency, tiny Docker images, simple deployment. But OAuth2 + API SDKs require more manual handling.</p> <p>Pros:</p> <ul> <li>Very fast &amp; reliable</li> <li>Perfect for cron-like hooks</li> <li>Excellent for containerization</li> </ul> <p>Cons:</p> <ul> <li>Less pleasant for complex business logic</li> <li>Weak ecosystem for services like Gmail, Google Drive, etc.</li> </ul>"},{"location":"benchmark/backend/#our-choice","title":"Our choice","text":"<p>We will choose Node.js for:</p> <ul> <li>Ecosystem: Most major providers offer first\u2011class Node SDKs (Google, GitHub, Outlook, Dropbox), reducing integration effort and edge cases.</li> <li>Deployment: Lightweight Docker images.</li> </ul>"},{"location":"benchmark/backend/#backend-database","title":"Backend Database","text":"Database Data Modeling Performance Complexity Docker Setup Best Use Case PostgreSQL \u2b50\u2b50\u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50\u2b50 Best all-purpose solution MySQL/MariaDB \u2b50\u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50\u2b50 Good alternative, weaker JSON support SQLite \u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50 \u2b50\u2b50 \u2b50\u2b50\u2b50\u2b50\u2b50 Small projects, local dev only MongoDB \u2b50\u2b50 \u2b50\u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50\u2b50 \u2b50\u2b50 Unstructured data, flexible schemas Redis \u2b50 \u2b50\u2b50\u2b50\u2b50\u2b50 \u2b50\u2b50 \u2b50\u2b50\u2b50\u2b50 Caching, deduplication, queues"},{"location":"benchmark/backend/#candidate","title":"Candidate","text":""},{"location":"benchmark/backend/#postgresql","title":"PostgreSQL","text":"<p>PostgreSQL is the strongest contender for an automation platform.</p> <p>Pros:</p> <ul> <li>Most powerful relational database in open-source ecosystem</li> <li>Great for modeling structured entities:<ul> <li>Users</li> <li>UserServices</li> <li>Actions</li> <li>Reactions</li> <li>AREA workflows</li> <li>Hook logs</li> </ul> </li> <li>Built-in JSONB column type (useful for storing dynamic config)</li> <li>Excellent support from backend frameworks (Node, FastAPI, Go)</li> <li>Runs easily in Docker Compose</li> <li>Strong indexing (B-tree, full-text, GIN/JSONB)</li> </ul> <p>Cons:</p> <ul> <li>Heavier than SQLite</li> <li>Requires a bit more setup</li> </ul>"},{"location":"benchmark/backend/#mysql-mariadb","title":"MySQL / MariaDB","text":"<p>Solid alternative if the team is familiar with it.</p> <p>Pros:</p> <ul> <li>Good performance</li> <li>Easy to Dockerize</li> <li>Works well with ORMs (Prisma, Sequelize, TypeORM)</li> </ul> <p>Cons:</p> <ul> <li>Weaker JSON support than PostgreSQL</li> <li>Less flexible for dynamic config structures</li> </ul>"},{"location":"benchmark/backend/#sqlite","title":"SQLite","text":"<p>Useful only for:</p> <ul> <li>Prototyping</li> <li>PoC</li> <li>Unit tests</li> <li>Very lightweight deployments</li> </ul> <p>Pros:</p> <ul> <li>Extremely easy to use</li> <li>No server required</li> <li>Fast setup for the early PoC milestone</li> </ul> <p>Cons:</p> <ul> <li>Not suitable for concurrent workloads</li> <li>No real user management system</li> <li>Bad for a multi-user automation platform</li> <li>Hard to scale</li> </ul>"},{"location":"benchmark/backend/#our-choice_1","title":"Our choice","text":"<p>We will choose PostgreSQL because:</p> <ul> <li>Highly relational</li> <li>Requires clean schemas</li> <li>Requires user/OAuth/workflow modeling</li> <li>Needs JSONB for flexible configs</li> <li>Needs strong integrity</li> </ul>"},{"location":"benchmark/backend/#password-hashing","title":"Password Hashing","text":"Technology Security Performance Salt Complexity Best Use Case bcrypt \u2b50\u2b50\u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50 Auto \u2b50\u2b50\u2b50\u2b50 Industry standard for passwords argon2 \u2b50\u2b50\u2b50\u2b50\u2b50 \u2b50\u2b50 Auto \u2b50\u2b50\u2b50 Most secure, memory-hard scrypt \u2b50\u2b50\u2b50\u2b50 \u2b50\u2b50 Auto \u2b50\u2b50\u2b50 Good alternative to bcrypt PBKDF2 \u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50\u2b50 Manual \u2b50\u2b50\u2b50\u2b50 NIST approved, widely supported SHA-256 \u2b50 \u2b50\u2b50\u2b50\u2b50\u2b50 Manual \u2b50\u2b50\u2b50\u2b50\u2b50 \u26a0\ufe0f NOT for passwords (too fast)"},{"location":"benchmark/backend/#candidates_1","title":"Candidates","text":""},{"location":"benchmark/backend/#bcrypt","title":"bcrypt","text":"<p>The de facto standard for password hashing in web applications. Used in this project via <code>bcryptjs</code>.</p> <p>Pros:</p> <ul> <li>Industry-proven and battle-tested since 1999</li> <li>Adaptive cost factor (work rounds) - currently 10 rounds in AREA</li> <li>Automatic salt generation and storage</li> <li>Resistant to brute-force attacks</li> <li>Excellent library support across all platforms</li> <li>Pure JavaScript implementation available (bcryptjs)</li> </ul> <p>Cons:</p> <ul> <li>Slower than argon2 for same security level</li> <li>Limited to 72-byte passwords</li> <li>Not memory-hard (vulnerable to GPU attacks)</li> </ul> <p>Implementation in AREA: <pre><code>const bcrypt = require('bcryptjs');\nconst hashedPassword = await bcrypt.hash(password, 10); // 10 rounds\nconst isValid = await bcrypt.compare(password, hashedPassword);\n</code></pre></p>"},{"location":"benchmark/backend/#argon2","title":"argon2","text":"<p>Winner of the Password Hashing Competition (2015). Most secure modern algorithm.</p> <p>Pros:</p> <ul> <li>Memory-hard algorithm (resistant to GPU/ASIC attacks)</li> <li>Configurable memory, time, and parallelism</li> <li>Best choice for high-security applications</li> <li>Recommended by OWASP</li> </ul> <p>Cons:</p> <ul> <li>Newer (less battle-tested than bcrypt)</li> <li>Requires native bindings (harder in Docker)</li> <li>Slightly more complex configuration</li> </ul>"},{"location":"benchmark/backend/#scrypt","title":"scrypt","text":"<p>Designed to be memory-hard and ASIC-resistant.</p> <p>Pros:</p> <ul> <li>Memory-hard like argon2</li> <li>Good security properties</li> <li>Used by major platforms (Tarsnap, cryptocurrencies)</li> </ul> <p>Cons:</p> <ul> <li>Less popular than bcrypt/argon2</li> <li>Configuration more complex</li> <li>Requires native bindings</li> </ul>"},{"location":"benchmark/backend/#pbkdf2","title":"PBKDF2","text":"<p>NIST-approved standard, widely used in enterprise.</p> <p>Pros:</p> <ul> <li>NIST/FIPS approved</li> <li>Very widely supported</li> <li>Simple to implement</li> <li>Good for compliance requirements</li> </ul> <p>Cons:</p> <ul> <li>Not memory-hard (vulnerable to GPU attacks)</li> <li>Requires high iteration count (100,000+)</li> <li>Manual salt management</li> <li>Slower than modern alternatives for same security</li> </ul>"},{"location":"benchmark/backend/#our-choice_2","title":"Our choice","text":"<p>We chose bcrypt (bcryptjs) for AREA because:</p> <ul> <li>Maturity: 25+ years of proven security in production</li> <li>Simplicity: Automatic salt generation, single cost factor</li> <li>Ecosystem: Excellent Node.js support with pure JS implementation</li> <li>Docker-friendly: No native dependencies with bcryptjs</li> <li>Balance: Good security/performance trade-off for a web application</li> <li>Standard: Expected by developers, well-documented</li> </ul> <p>Configuration used: - 10 rounds (2^10 = 1,024 iterations) - Provides ~100ms hash time (good UX, secure enough) - Automatic salt generation per password</p> <p>Future consideration: Migrate to argon2 if high-security requirements emerge, but bcrypt is perfectly adequate for this application's threat model.</p>"},{"location":"benchmark/frontend/","title":"Web Front-end Benchmark","text":""},{"location":"benchmark/frontend/#benchmark-objective","title":"Benchmark Objective","text":"<p>Select the optimal front-end stack for building the Web Client that stick with:</p> <ul> <li>Interacts with the Application Server via REST Api</li> <li>Manages OAuth2 authentification</li> <li>Delivers accessibility, maintainability, and scalability</li> <li>Runs inside Docker</li> </ul> <p>This benchmark will compare the most relevant front-end stacks for this project.</p>"},{"location":"benchmark/frontend/#front-end-requirements-summary","title":"Front-End Requirements Summary","text":"<p>Functional requirements:</p> <ul> <li>User registration &amp; login (password + OAuth2)</li> <li>AREA creation UI (Action + REAction linking)</li> <li>Display available services</li> <li>Trigger REST calls to server</li> </ul> <p>Non-functional requirements:</p> <ul> <li>Accessibility</li> <li>Easy integration with OAuth2 flows</li> <li>Separation from business logic</li> <li>Fast development with low risk of technical issues</li> <li>Good documentation</li> <li>High ecosystem maturity</li> <li>Compatibility with Docker</li> </ul>"},{"location":"benchmark/frontend/#simple-benchark-table","title":"Simple benchark table","text":"Stack Maturity Performance Learning Curve OAuth2 Support Notes React + Vite \u2b50\u2b50\u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50 Excellent Most popular Vue 3 + Vite \u2b50\u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50\u2b50\u2b50 Excellent Easier for beginners Angular 17 \u2b50\u2b50\u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50 \u2b50 Excellent Enterprise-level"},{"location":"benchmark/frontend/#detailed-benchmark","title":"Detailed benchmark","text":""},{"location":"benchmark/frontend/#1-react-vite","title":"1. React + Vite","text":"<p>Pros:</p> <ul> <li>Largest ecosystem and community</li> <li>Thousands of integrations (OAuth2, forms, routing\u2026)</li> <li>Perfect for modular UI projects</li> <li>Vite offers extremely fast dev environment</li> <li>Easy to dockerize</li> <li>Plenty of UI libraries (MUI, Tailwind, Chakra\u2026)</li> <li>Perfect for beginners or mixed-experience groups</li> <li>Native TypeScript support</li> </ul> <p>Cons:</p> <ul> <li>Not a full framework, requires assembling libraries</li> </ul> <p>Fit for this project:</p> <p>Excellent. Entire project matches React's patterns:</p> <ul> <li>Simple REST calls</li> <li>Dynamic forms for user/service/AREA creation</li> <li>OAuth2 workflows</li> <li>Component-driven UI</li> <li>Fast iteration</li> </ul> <p>Docker Image Size:</p> <p>About 40-60 MB</p>"},{"location":"benchmark/frontend/#2-vue-3-vite","title":"2. Vue 3 + Vite","text":"<p>Pros:</p> <ul> <li>Easiest to learn</li> <li>Reactive template syntax feels natural</li> <li>Extremely fast with Vite</li> <li>Great for small-to-medium projects</li> </ul> <p>Cons:</p> <ul> <li>Ecosystem smaller than React</li> <li>Fewer enterprise-grade components</li> <li>Some OAuth2 integrations require manual tuning</li> </ul> <p>Fit for this project:</p> <p>Perfect if the team prefers simplicity and developer experience.</p> <p>Docker Image Size:</p> <p>About 35-55 MB</p>"},{"location":"benchmark/frontend/#3-angular-7","title":"3. Angular 7","text":"<p>Pros:</p> <ul> <li>Complete all-in-one framework</li> <li>Enforces architecture: great for large teams</li> <li>Built-in TypeScript</li> </ul> <p>Cons:</p> <ul> <li>Very steep learning curve</li> <li>Heavy framework (bundle size + initial dev cost)</li> <li>Overkill for a UI-only app with no business logic</li> </ul> <p>Fit for this project:</p> <p>Medium, too complex for this project.</p> <p>Docker Image Size:</p> <p>About 80-120 MB</p>"},{"location":"benchmark/frontend/#our-choice","title":"Our choice","text":"<p>We will choose React + Vite for:</p> <ul> <li>Its largest ecosystem and community</li> <li>Thousands of integrations (OAuth2, forms, routing\u2026)</li> <li>Perfect for modular UI-driven projects</li> <li>Vite offers extremely fast dev environment</li> <li>Lightweight and easy to dockerize</li> <li>Perfect for beginners or mixed-experience groups</li> </ul>"},{"location":"cahier_des_charges/","title":"Cahier des Charges du Projet AREA","text":"<p>Ce dossier regroupe l'ensemble des documents d\u00e9crivant les objectifs, contraintes, architecture, sp\u00e9cifications fonctionnelles et techniques du projet AREA, une plateforme d'automatisation inspir\u00e9e d\u2019IFTTT et Zapier.</p> <p>Utilisez le menu \u00e0 gauche pour naviguer entre les sections.</p>"},{"location":"cahier_des_charges/01_contexte_objectifs/","title":"1. Contexte &amp; Objectifs","text":""},{"location":"cahier_des_charges/01_contexte_objectifs/#11-contexte-du-projet","title":"1.1 Contexte du projet","text":"<p>AREA est une plateforme permettant d\u2019automatiser des t\u00e2ches entre diff\u00e9rents services externes (Google, Github, Outlook, Dropbox\u2026). Elle fonctionne sur le principe :</p> <p>Si un \u00e9v\u00e9nement (Action) se produit Alors ex\u00e9cuter automatiquement une t\u00e2che (REAction).</p> <p>Le projet impose trois composants : - un serveur REST (port 8080), - un client web (port 8081), - un client mobile (APK produite via Docker).</p>"},{"location":"cahier_des_charges/01_contexte_objectifs/#12-objectifs-principaux","title":"1.2 Objectifs principaux","text":"<ul> <li>Reproduire une base fonctionnelle type IFTTT/Zapier</li> <li>Int\u00e9grer plusieurs services externes via OAuth2</li> <li>Permettre la cr\u00e9ation d\u2019AREA par les utilisateurs</li> <li>Fournir une documentation claire et modulaire</li> <li>Assurer une architecture propre et extensible</li> </ul>"},{"location":"cahier_des_charges/01_contexte_objectifs/#13-contraintes","title":"1.3 Contraintes","text":"<ul> <li>Docker Compose obligatoire</li> <li>Respect des normes d\u2019accessibilit\u00e9 WCAG</li> <li>API REST unique</li> <li>Aucun traitement m\u00e9tier dans les clients</li> </ul>"},{"location":"cahier_des_charges/02_architecture_globale/","title":"2. Architecture globale","text":""},{"location":"cahier_des_charges/02_architecture_globale/#21-vue-densemble","title":"2.1 Vue d'ensemble","text":"<p>L\u2019architecture est divis\u00e9e en trois composants principaux :</p> <ul> <li>Application Server (Backend)</li> <li>Runtime: Node.js / Express</li> <li>Architecture: Service Repository Pattern (Modular Registry)</li> <li>Services: Gestion dynamique via <code>ServiceRegistry</code></li> <li>BDD: PostgreSQL (Sequelize ORM)</li> <li> <p>Expose <code>about.json</code> et API REST</p> </li> <li> <p>Client Web</p> </li> <li>Vue.js / React (\u00e0 d\u00e9finir)</li> <li> <p>Interface utilisateur responsive</p> </li> <li> <p>Client Mobile</p> </li> <li>React Native / Flutter (\u00e0 d\u00e9finir)</li> <li>G\u00e9n\u00e9ration d'APK</li> </ul>"},{"location":"cahier_des_charges/02_architecture_globale/#22-diagramme-architecture-uml","title":"2.2 Diagramme architecture (UML)","text":"<p>```plantuml @startuml node \"Docker Host\" {   component \"Reverse Proxy (Nginx)\" as Proxy   component \"Backend API\" as Server   database \"PostgreSQL\" as DB   database \"Redis\" as Cache }</p> <p>actor User User --&gt; Proxy : HTTP/HTTPS</p> <p>Proxy --&gt; Server : Port 8080 Server --&gt; DB : Port 5432 Server --&gt; Cache : Port 6379</p> <p>note right of Server   Service Registry   - Weather   - Timer   - Email   - Console end note @enduml</p>"},{"location":"cahier_des_charges/03_spec_fonctionnelles/","title":"3. Sp\u00e9cifications fonctionnelles","text":""},{"location":"cahier_des_charges/03_spec_fonctionnelles/#31-gestion-utilisateur","title":"3.1 Gestion utilisateur","text":"<ul> <li>Inscription (email, mot de passe)</li> <li>Confirmation de compte</li> <li>Connexion / d\u00e9connexion</li> <li>Auth via OAuth2</li> </ul>"},{"location":"cahier_des_charges/03_spec_fonctionnelles/#32-services","title":"3.2 Services","text":"<p>L'utilisateur peut : - Lier un service externe (OAuth2 si n\u00e9cessaire) - Voir les services connect\u00e9s - D\u00e9connecter un service</p>"},{"location":"cahier_des_charges/03_spec_fonctionnelles/#33-actions","title":"3.3 Actions","text":"<p>Chaque service propose des conditions d\u00e9clenchantes : - Nouvel email re\u00e7u - Nouveau tweet - Fichier ajout\u00e9 dans un drive - Timer</p>"},{"location":"cahier_des_charges/03_spec_fonctionnelles/#34-reactions","title":"3.4 Reactions","text":"<p>Chaque service propose des actions ex\u00e9cutables : - Envoyer un message - Ajouter un fichier - Cr\u00e9er un \u00e9v\u00e9nement calendrier</p>"},{"location":"cahier_des_charges/03_spec_fonctionnelles/#35-area","title":"3.5 AREA","text":"<p>Un AREA = 1 Action + 1 ou plusieurs Reactions L'utilisateur peut : - Cr\u00e9er un AREA - Modifier un AREA - Supprimer un AREA - Activer / d\u00e9sactiver un AREA</p>"},{"location":"cahier_des_charges/03_spec_fonctionnelles/#36-hooks","title":"3.6 Hooks","text":"<p>Le serveur doit : - V\u00e9rifier les conditions des Actions - D\u00e9clencher les Reactions associ\u00e9es - Garantir qu\u2019un \u00e9v\u00e9nement ne se d\u00e9clenche qu\u2019une seule fois</p>"},{"location":"cahier_des_charges/04_spec_techniques/","title":"4. Sp\u00e9cifications techniques","text":""},{"location":"cahier_des_charges/04_spec_techniques/#41-stack-technique","title":"4.1 Stack Technique","text":"<ul> <li>Backend: Node.js 18+</li> <li>Framework: Express.js</li> <li>Base de donn\u00e9es: PostgreSQL 15</li> <li>ORM: Sequelize</li> <li>Cache/Queue: Redis</li> <li>Architecture: Docker Compose</li> </ul>"},{"location":"cahier_des_charges/04_spec_techniques/#42-architecture-modulaire","title":"4.2 Architecture Modulaire","text":"<p>L'application utilise un Service Registry dynamique : - <code>ServiceBase</code> : Classe parente pour tous les services     - <code>registerAction(name, desc, params)</code>     - <code>registerReaction(name, desc, params)</code>     - <code>checkTrigger(action, area, params)</code> : M\u00e9thode \u00e0 red\u00e9finir     - <code>executeReaction(reaction, area, params)</code> : M\u00e9thode \u00e0 red\u00e9finir - <code>ServiceRegistry</code> : Singleton g\u00e9rant le chargement des services (<code>register</code>, <code>getService</code>, <code>getAllServices</code>) - <code>automation.js</code> : Boucle d'ex\u00e9cution agnostique (ne connait pas les services sp\u00e9cifiques) qui it\u00e8re sur les AREA actives toutes les 10s (configurable).</p>"},{"location":"cahier_des_charges/04_spec_techniques/#43-api-rest","title":"4.3 API REST","text":"<p>Endpoints expos\u00e9s : - <code>/auth/</code> : Authentification (JWT, OAuth2) - <code>/users/</code> : Gestion profil - <code>/areas/</code> : CRUD des automatisations - <code>/about.json</code> : D\u00e9couverte des services</p>"},{"location":"cahier_des_charges/04_spec_techniques/#44-securite","title":"4.4 S\u00e9curit\u00e9","text":"<ul> <li>Authentification: JWT (Header <code>Authorization: Bearer &lt;token&gt;</code>)</li> <li>Mots de passe: Hachage via <code>bcryptjs</code></li> <li>OAuth2: Strat\u00e9gie Passport.js (Google)</li> <li>Protection: </li> <li>CORS configur\u00e9</li> <li>Environnement via <code>.env</code></li> </ul>"},{"location":"cahier_des_charges/04_spec_techniques/#44-logs","title":"4.4 Logs","text":"<ul> <li>Log des hooks ex\u00e9cut\u00e9s</li> <li>Log des erreurs API</li> <li>Log des authentifications</li> </ul>"},{"location":"cahier_des_charges/05_api_rest/","title":"5. API REST","text":""},{"location":"cahier_des_charges/05_api_rest/#51-auth-auth","title":"5.1 Auth (<code>/auth</code>)","text":""},{"location":"cahier_des_charges/05_api_rest/#post-authregister","title":"POST /auth/register","text":"<p>Cr\u00e9ation de compte (email/password).</p>"},{"location":"cahier_des_charges/05_api_rest/#post-authlogin","title":"POST /auth/login","text":"<p>Connexion (retourne un JWT).</p>"},{"location":"cahier_des_charges/05_api_rest/#get-authgoogle","title":"GET /auth/google","text":"<p>Initiation OAuth2 Google.</p>"},{"location":"cahier_des_charges/05_api_rest/#get-authme","title":"GET /auth/me","text":"<p>R\u00e9cup\u00e8re l'utilisateur courant.</p>"},{"location":"cahier_des_charges/05_api_rest/#52-users-users","title":"5.2 Users (<code>/users</code>)","text":""},{"location":"cahier_des_charges/05_api_rest/#get-usersid","title":"GET /users/:id","text":"<p>R\u00e9cup\u00e8re le profil d'un utilisateur.</p>"},{"location":"cahier_des_charges/05_api_rest/#put-usersid","title":"PUT /users/:id","text":"<p>Met \u00e0 jour le profil (nom, mot de passe).</p>"},{"location":"cahier_des_charges/05_api_rest/#delete-usersid","title":"DELETE /users/:id","text":"<p>Supprime le compte.</p>"},{"location":"cahier_des_charges/05_api_rest/#53-area-areas","title":"5.3 AREA (<code>/areas</code>)","text":""},{"location":"cahier_des_charges/05_api_rest/#get-areas","title":"GET /areas","text":"<p>Liste les AREA de l'utilisateur.</p>"},{"location":"cahier_des_charges/05_api_rest/#get-areasid","title":"GET /areas/:id","text":"<p>D\u00e9tails d'une AREA sp\u00e9cifique.</p>"},{"location":"cahier_des_charges/05_api_rest/#post-areas","title":"POST /areas","text":"<p>Cr\u00e9ation d'une AREA (Action + R\u00e9action + Param\u00e8tres).</p>"},{"location":"cahier_des_charges/05_api_rest/#put-areasid","title":"PUT /areas/:id","text":"<p>Modification d'une AREA.</p>"},{"location":"cahier_des_charges/05_api_rest/#delete-areasid","title":"DELETE /areas/:id","text":"<p>Suppression d'une AREA.</p>"},{"location":"cahier_des_charges/05_api_rest/#54-services-services","title":"5.4 Services (<code>/services</code>)","text":""},{"location":"cahier_des_charges/05_api_rest/#get-services","title":"GET /services","text":"<p>Liste les services connect\u00e9s par l'utilisateur (avec date d'expiration).</p>"},{"location":"cahier_des_charges/05_api_rest/#get-servicesservicenameconnect","title":"GET /services/:serviceName/connect","text":"<p>Initie la connexion OAuth2 pour un service donn\u00e9 (ex: <code>google</code>). Retourne l'URL d'autorisation.</p>"},{"location":"cahier_des_charges/05_api_rest/#post-servicesservicenamecallback","title":"POST /services/:serviceName/callback","text":"<p>Finalise la connexion OAuth2 (\u00e9change du code contre tokens) et sauvegarde les identifiants.</p>"},{"location":"cahier_des_charges/05_api_rest/#delete-servicesservicename","title":"DELETE /services/:serviceName","text":"<p>D\u00e9connecte un service (supprime les tokens).</p>"},{"location":"cahier_des_charges/05_api_rest/#54-aboutjson","title":"5.4 about.json","text":""},{"location":"cahier_des_charges/05_api_rest/#get-aboutjson","title":"GET /about.json","text":""},{"location":"cahier_des_charges/06_base_de_donnees/","title":"6. Base de donn\u00e9es","text":""},{"location":"cahier_des_charges/06_base_de_donnees/#61-modele-conceptuel-uml","title":"6.1 Mod\u00e8le conceptuel (UML)","text":"<p>```plantuml @startuml entity User {   id: UUID   email: string   password: string (hash)   googleId: string   name: string }</p> <p>entity Service {   id: UUID   name: string (unique)   label: string   icon: string   active: boolean }</p> <p>entity UserService {   id: UUID   userId: UUID   serviceId: UUID   accessToken: text   refreshToken: text   expiresAt: Date   profileId: string   username: string }</p> <p>entity Area {   id: UUID   user_id: UUID   name: string</p> <p>actionService: string   actionType: string</p> <p>reactionService: string   reactionType: string</p> <p>parameters: JSONB   active: boolean   lastTriggered: Date }</p> <p>User ||--o{ Area : has User ||--o{ UserService : connects Service ||--o{ UserService : provider @enduml</p>"},{"location":"cahier_des_charges/07_organisation_planning/","title":"7. Organisation &amp; Planning","text":""},{"location":"cahier_des_charges/07_organisation_planning/#71-roles","title":"7.1 R\u00f4les","text":"<ul> <li>Dev Back-end :</li> <li>Dev Front Web :</li> <li>Dev Mobile :</li> <li>Responsable Docker :</li> <li>Responsable Documentation :</li> </ul>"},{"location":"cahier_des_charges/07_organisation_planning/#72-planning","title":"7.2 Planning","text":"<ul> <li>Semaine 1\u20132 : choix des technos, PoC</li> <li>Semaine 3\u20136 : serveur + auth</li> <li>Semaine 7\u201310 : web + mobile</li> <li>Semaine 11\u201312 : tests + docker + doc</li> </ul>"},{"location":"cahier_des_charges/07_organisation_planning/#73-methodologie","title":"7.3 M\u00e9thodologie","text":"<ul> <li>GitHub Projects</li> <li>Branches Git : main, dev, feature/*</li> <li>Conventional Commits</li> </ul>"},{"location":"cahier_des_charges/08_livrables/","title":"8. Livrables","text":"<ul> <li>Application fonctionnelle</li> <li>Docker-compose complet</li> <li>APK g\u00e9n\u00e9r\u00e9e</li> <li>Documentation MkDocs</li> <li>Diagrammes UML</li> <li>Rapport final</li> <li>Pr\u00e9sentation orale</li> </ul>"},{"location":"cahier_des_charges/09_annexes/","title":"9. Annexes","text":"<ul> <li>Exemple d\u2019AREA</li> <li>Format JSON des actions</li> <li>Diagrammes suppl\u00e9mentaires</li> </ul>"},{"location":"frontend/","title":"Frontend Web - Vue d'ensemble","text":"<p>Documentation du client web AREA d\u00e9velopp\u00e9 avec React et Vite.</p>"},{"location":"frontend/#structure-du-projet","title":"Structure du Projet","text":"<pre><code>front-web/\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 main.jsx           # Point d'entr\u00e9e React\n\u2502   \u251c\u2500\u2500 App.jsx            # Composant racine avec routing\n\u2502   \u251c\u2500\u2500 App.css            # Styles globaux\n\u2502   \u251c\u2500\u2500 index.css          # Styles de base\n\u2502   \u251c\u2500\u2500 components/\n\u2502   \u2502   \u2514\u2500\u2500 Sidebar.jsx    # Barre de navigation lat\u00e9rale\n\u2502   \u2514\u2500\u2500 pages/\n\u2502       \u251c\u2500\u2500 Login.jsx              # Page de connexion\n\u2502       \u251c\u2500\u2500 Signup.jsx             # Page d'inscription\n\u2502       \u251c\u2500\u2500 Home.jsx               # Dashboard principal\n\u2502       \u251c\u2500\u2500 Settings.jsx           # Param\u00e8tres utilisateur\n\u2502       \u251c\u2500\u2500 AdminPage.jsx          # Administration\n\u2502       \u251c\u2500\u2500 AuthCallback.jsx       # Callback OAuth\n\u2502       \u251c\u2500\u2500 ServiceCallback.jsx    # Callback services\n\u2502       \u251c\u2500\u2500 servicesCallback.jsx   # Gestion connexion services\n\u2502       \u251c\u2500\u2500 MobileAPK.jsx          # T\u00e9l\u00e9chargement APK\n\u2502       \u2514\u2500\u2500 workflowCreation/      # Cr\u00e9ation d'AREAs\n\u251c\u2500\u2500 public/                # Assets statiques\n\u251c\u2500\u2500 index.html             # Template HTML\n\u251c\u2500\u2500 vite.config.js         # Configuration Vite\n\u251c\u2500\u2500 package.json\n\u251c\u2500\u2500 Dockerfile\n\u2514\u2500\u2500 nginx.conf             # Configuration Nginx (production)\n</code></pre>"},{"location":"frontend/#demarrage","title":"D\u00e9marrage","text":""},{"location":"frontend/#installation","title":"Installation","text":"<pre><code>cd front-web\nnpm install\n</code></pre>"},{"location":"frontend/#developpement","title":"D\u00e9veloppement","text":"<pre><code>npm run dev\n</code></pre> <p>L'application sera disponible sur <code>http://localhost:5173</code> (ou le port indiqu\u00e9).</p>"},{"location":"frontend/#production","title":"Production","text":"<pre><code>npm run build\nnpm run preview\n</code></pre>"},{"location":"frontend/#configuration","title":"Configuration","text":"<p>Le fichier <code>vite.config.js</code> configure :</p> <ul> <li>Proxy vers l'API backend</li> <li>Port de d\u00e9veloppement</li> <li>Alias d'import</li> </ul> <pre><code>export default defineConfig({\n  plugins: [react()],\n  server: {\n    port: 8081,\n    proxy: {\n      '/api': {\n        target: 'http://localhost:8080',\n        changeOrigin: true,\n        rewrite: (path) =&gt; path.replace(/^\\/api/, '')\n      }\n    }\n  }\n});\n</code></pre>"},{"location":"frontend/#pages-principales","title":"Pages principales","text":""},{"location":"frontend/#login-signup","title":"Login / Signup","text":"<p>Authentification par email/mot de passe ou OAuth Google.</p> <ul> <li>Formulaires de connexion/inscription</li> <li>Boutons OAuth</li> <li>Redirection vers le dashboard apr\u00e8s connexion</li> </ul>"},{"location":"frontend/#home-dashboard","title":"Home (Dashboard)","text":"<p>Vue d'ensemble de l'utilisateur :</p> <ul> <li>Liste des AREAs actives</li> <li>Statistiques rapides</li> <li>Raccourcis vers les actions communes</li> </ul>"},{"location":"frontend/#settings","title":"Settings","text":"<p>Gestion du profil et des services connect\u00e9s :</p> <ul> <li>Modification du profil</li> <li>Connexion/d\u00e9connexion des services OAuth</li> <li>Statut des connexions</li> </ul>"},{"location":"frontend/#creation-darea","title":"Cr\u00e9ation d'AREA","text":"<p>Assistant de cr\u00e9ation d'automatisation :</p> <ol> <li>S\u00e9lection du service d'action</li> <li>Configuration du trigger</li> <li>S\u00e9lection du service de r\u00e9action</li> <li>Configuration de la r\u00e9action</li> <li>Nommage et activation</li> </ol>"},{"location":"frontend/#composants","title":"Composants","text":""},{"location":"frontend/#sidebar","title":"Sidebar","text":"<p>Navigation principale avec liens vers :</p> <ul> <li>Dashboard</li> <li>Mes AREAs</li> <li>Cr\u00e9er une AREA</li> <li>Services</li> <li>Param\u00e8tres</li> </ul>"},{"location":"frontend/#areacard","title":"AreaCard","text":"<p>Affichage d'une AREA avec :</p> <ul> <li>Nom et description</li> <li>Services utilis\u00e9s</li> <li>\u00c9tat (actif/inactif)</li> <li>Actions (modifier, supprimer, activer/d\u00e9sactiver)</li> </ul>"},{"location":"frontend/#authentification","title":"Authentification","text":"<p>Le token JWT est stock\u00e9 dans <code>localStorage</code> et envoy\u00e9 dans les headers :</p> <pre><code>const token = localStorage.getItem('token');\n\nfetch('/api/areas', {\n  headers: {\n    'Authorization': `Bearer ${token}`\n  }\n});\n</code></pre>"},{"location":"frontend/#appels-api","title":"Appels API","text":"<p>Exemple d'appel pour r\u00e9cup\u00e9rer les AREAs :</p> <pre><code>const fetchAreas = async () =&gt; {\n  const response = await fetch('/api/areas', {\n    headers: {\n      'Authorization': `Bearer ${token}`\n    }\n  });\n  const data = await response.json();\n  setAreas(data);\n};\n</code></pre>"},{"location":"frontend/#styles","title":"Styles","text":"<p>Le projet utilise CSS standard avec :</p> <ul> <li>Variables CSS pour les couleurs</li> <li>Flexbox et Grid pour le layout</li> <li>Media queries pour le responsive</li> </ul>"},{"location":"mobile/","title":"Application Mobile - Vue d'ensemble","text":"<p>Documentation de l'application mobile AREA d\u00e9velopp\u00e9e avec React Native et Expo.</p>"},{"location":"mobile/#structure-du-projet","title":"Structure du Projet","text":"<pre><code>client-mobile/\n\u251c\u2500\u2500 App.tsx                   # Point d'entr\u00e9e de l'application\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 api/\n\u2502   \u2502   \u2514\u2500\u2500 client.ts         # Client HTTP pour l'API\n\u2502   \u251c\u2500\u2500 components/\n\u2502   \u2502   \u251c\u2500\u2500 AreaCard.tsx      # Carte d'affichage d'une AREA\n\u2502   \u2502   \u2514\u2500\u2500 ServiceCard.tsx   # Carte d'affichage d'un service\n\u2502   \u251c\u2500\u2500 navigation/\n\u2502   \u2502   \u2514\u2500\u2500 AppNavigator.tsx  # Configuration de la navigation\n\u2502   \u2514\u2500\u2500 screens/\n\u2502       \u251c\u2500\u2500 LoginScreen.tsx       # \u00c9cran de connexion\n\u2502       \u251c\u2500\u2500 RegisterScreen.tsx    # \u00c9cran d'inscription\n\u2502       \u251c\u2500\u2500 DashboardScreen.tsx   # Dashboard principal\n\u2502       \u251c\u2500\u2500 AreasScreen.tsx       # Liste des AREAs\n\u2502       \u251c\u2500\u2500 CreateAreaScreen.tsx  # Cr\u00e9ation d'AREA\n\u2502       \u251c\u2500\u2500 ServicesScreen.tsx    # Gestion des services\n\u2502       \u2514\u2500\u2500 ProfileScreen.tsx     # Profil utilisateur\n\u251c\u2500\u2500 app.json                  # Configuration Expo\n\u251c\u2500\u2500 babel.config.js           # Configuration Babel\n\u251c\u2500\u2500 metro.config.js           # Configuration Metro bundler\n\u251c\u2500\u2500 tsconfig.json             # Configuration TypeScript\n\u251c\u2500\u2500 package.json\n\u2514\u2500\u2500 Dockerfile\n</code></pre>"},{"location":"mobile/#demarrage","title":"D\u00e9marrage","text":""},{"location":"mobile/#prerequis","title":"Pr\u00e9requis","text":"<ul> <li>Node.js 18+</li> <li>Expo CLI : <code>npm install -g expo-cli</code></li> <li>Application Expo Go sur votre t\u00e9l\u00e9phone (iOS/Android)</li> </ul>"},{"location":"mobile/#installation","title":"Installation","text":"<pre><code>cd client-mobile\nnpm install\n</code></pre>"},{"location":"mobile/#lancement","title":"Lancement","text":"<pre><code>npx expo start\n</code></pre> <p>Options de lancement :</p> <ul> <li>Appuyez sur <code>a</code> pour ouvrir sur Android</li> <li>Appuyez sur <code>i</code> pour ouvrir sur iOS</li> <li>Scannez le QR code avec Expo Go</li> </ul>"},{"location":"mobile/#configuration","title":"Configuration","text":""},{"location":"mobile/#appjson","title":"app.json","text":"<pre><code>{\n  \"expo\": {\n    \"name\": \"AREA\",\n    \"slug\": \"area\",\n    \"version\": \"1.0.0\",\n    \"orientation\": \"portrait\",\n    \"icon\": \"./assets/icon.png\",\n    \"splash\": {\n      \"image\": \"./assets/splash.png\",\n      \"resizeMode\": \"contain\",\n      \"backgroundColor\": \"#ffffff\"\n    },\n    \"ios\": {\n      \"supportsTablet\": true\n    },\n    \"android\": {\n      \"adaptiveIcon\": {\n        \"foregroundImage\": \"./assets/adaptive-icon.png\",\n        \"backgroundColor\": \"#ffffff\"\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"mobile/#client-api","title":"Client API","text":"<p>Le fichier <code>client.ts</code> configure les appels vers le backend :</p> <pre><code>const API_URL = 'http://localhost:8080';\n\nexport const api = {\n  async get(endpoint: string, token?: string) {\n    const response = await fetch(`${API_URL}${endpoint}`, {\n      headers: {\n        'Authorization': token ? `Bearer ${token}` : '',\n      },\n    });\n    return response.json();\n  },\n\n  async post(endpoint: string, data: any, token?: string) {\n    const response = await fetch(`${API_URL}${endpoint}`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': token ? `Bearer ${token}` : '',\n      },\n      body: JSON.stringify(data),\n    });\n    return response.json();\n  },\n};\n</code></pre>"},{"location":"mobile/#navigation","title":"Navigation","text":"<p>L'application utilise React Navigation avec une structure en onglets :</p> <pre><code>const Tab = createBottomTabNavigator();\n\nfunction AppNavigator() {\n  return (\n    &lt;Tab.Navigator&gt;\n      &lt;Tab.Screen name=\"Dashboard\" component={DashboardScreen} /&gt;\n      &lt;Tab.Screen name=\"Areas\" component={AreasScreen} /&gt;\n      &lt;Tab.Screen name=\"Services\" component={ServicesScreen} /&gt;\n      &lt;Tab.Screen name=\"Profile\" component={ProfileScreen} /&gt;\n    &lt;/Tab.Navigator&gt;\n  );\n}\n</code></pre>"},{"location":"mobile/#ecrans","title":"\u00c9crans","text":""},{"location":"mobile/#loginscreen","title":"LoginScreen","text":"<ul> <li>Formulaire email/mot de passe</li> <li>Bouton de connexion Google</li> <li>Lien vers l'inscription</li> </ul>"},{"location":"mobile/#dashboardscreen","title":"DashboardScreen","text":"<ul> <li>R\u00e9sum\u00e9 des AREAs actives</li> <li>Acc\u00e8s rapide aux fonctionnalit\u00e9s</li> <li>Notifications r\u00e9centes</li> </ul>"},{"location":"mobile/#areasscreen","title":"AreasScreen","text":"<ul> <li>Liste des AREAs de l'utilisateur</li> <li>Filtres (actives/inactives)</li> <li>Actions (modifier, supprimer)</li> </ul>"},{"location":"mobile/#createareascreen","title":"CreateAreaScreen","text":"<p>Assistant de cr\u00e9ation en plusieurs \u00e9tapes :</p> <ol> <li>Choix du service trigger</li> <li>Configuration du trigger</li> <li>Choix du service r\u00e9action</li> <li>Configuration de la r\u00e9action</li> <li>Confirmation</li> </ol>"},{"location":"mobile/#servicesscreen","title":"ServicesScreen","text":"<ul> <li>Liste des services disponibles</li> <li>\u00c9tat de connexion de chaque service</li> <li>Boutons de connexion/d\u00e9connexion OAuth</li> </ul>"},{"location":"mobile/#profilescreen","title":"ProfileScreen","text":"<ul> <li>Informations de l'utilisateur</li> <li>D\u00e9connexion</li> <li>Param\u00e8tres de l'application</li> </ul>"},{"location":"mobile/#composants","title":"Composants","text":""},{"location":"mobile/#areacard","title":"AreaCard","text":"<pre><code>interface AreaCardProps {\n  area: Area;\n  onPress: () =&gt; void;\n  onToggle: (isActive: boolean) =&gt; void;\n}\n\nfunction AreaCard({ area, onPress, onToggle }: AreaCardProps) {\n  return (\n    &lt;TouchableOpacity onPress={onPress}&gt;\n      &lt;View style={styles.card}&gt;\n        &lt;Text style={styles.title}&gt;{area.name}&lt;/Text&gt;\n        &lt;Text&gt;{area.actionService} \u2192 {area.reactionService}&lt;/Text&gt;\n        &lt;Switch value={area.isActive} onValueChange={onToggle} /&gt;\n      &lt;/View&gt;\n    &lt;/TouchableOpacity&gt;\n  );\n}\n</code></pre>"},{"location":"mobile/#servicecard","title":"ServiceCard","text":"<pre><code>interface ServiceCardProps {\n  service: Service;\n  isConnected: boolean;\n  onConnect: () =&gt; void;\n}\n\nfunction ServiceCard({ service, isConnected, onConnect }: ServiceCardProps) {\n  return (\n    &lt;View style={styles.card}&gt;\n      &lt;Image source={{ uri: service.icon }} style={styles.icon} /&gt;\n      &lt;Text&gt;{service.name}&lt;/Text&gt;\n      &lt;Button\n        title={isConnected ? 'Connect\u00e9' : 'Connecter'}\n        onPress={onConnect}\n        disabled={isConnected}\n      /&gt;\n    &lt;/View&gt;\n  );\n}\n</code></pre>"},{"location":"mobile/#stockage-local","title":"Stockage local","text":"<p>Le token JWT est stock\u00e9 avec AsyncStorage :</p> <pre><code>import AsyncStorage from '@react-native-async-storage/async-storage';\n\n// Sauvegarder le token\nawait AsyncStorage.setItem('token', token);\n\n// R\u00e9cup\u00e9rer le token\nconst token = await AsyncStorage.getItem('token');\n\n// Supprimer le token (d\u00e9connexion)\nawait AsyncStorage.removeItem('token');\n</code></pre>"},{"location":"mobile/#build","title":"Build","text":""},{"location":"mobile/#apk-android","title":"APK Android","text":"<pre><code>npx expo build:android\n</code></pre>"},{"location":"mobile/#ipa-ios","title":"IPA iOS","text":"<pre><code>npx expo build:ios\n</code></pre>"},{"location":"mobile/#eas-build","title":"EAS Build","text":"<pre><code>npx eas build --platform android\nnpx eas build --platform ios\n</code></pre>"},{"location":"poc/front/web-angular/","title":"Angular (Standalone) POC","text":"<p>POC Angular moderne (standalone components) pour \u00e9valuer l'approche framework complet : CLI, routing et opinionated architecture.</p> <p>Technos - Angular (derni\u00e8re version) - Standalone components / ApplicationConfig - Outils de build &amp; test fournis par Angular CLI</p> <p>Pourquoi Angular pour AREA ? - Architecture opinionn\u00e9e pour applications larges / enterprise - Outils int\u00e9gr\u00e9s (CLI, tests, AOT, bundling) - Bon pour \u00e9quipes pr\u00e9f\u00e9rant conventions fortes</p> <p>Screenshots  Interface principale du POC Angular.</p> <p>Run local <pre><code>cd poc/front/web-angular\nnpm ci\nnpm run start\n# build prod\nnpm run build\n</code></pre></p> <p>Voir le code source r\u00e9el dans <code>/poc/front/web-angular</code> du d\u00e9p\u00f4t.</p>"},{"location":"poc/front/web-react/","title":"React + TypeScript + Vite (POC)","text":"<p>Ce POC d\u00e9montre une impl\u00e9mentation SPA moderne bas\u00e9e sur React, TypeScript et Vite pour le front-end. Il sert d'exemple pour l'int\u00e9gration avec l'API AREA, la gestion des routes et des formulaires, et l'int\u00e9gration OAuth expos\u00e9e dans la doc.</p> <p>Technos - React 18 + TypeScript - Vite (dev rapide, build optimis\u00e9e) - CSS simple / POC styles - Id\u00e9al pour composants r\u00e9utilisables, large \u00e9cosyst\u00e8me (OAuth, UI libs)</p> <p>Pourquoi ce choix - D\u00e9veloppement tr\u00e8s rapide gr\u00e2ce \u00e0 Vite - \u00c9cosyst\u00e8me riche (librairies d'UI, form, test) - Docker-friendly (cf. poc/front/web-react/vite.config.ts)</p> <p>Screenshots  Accueil / Landing page \u2014 montre le design et CTA.</p> <p>Run local <pre><code>cd poc/front/web-react\nnpm ci\nnpm run dev\n# build\nnpm run build\n</code></pre></p> <p>Voir le code source r\u00e9el dans <code>/poc/front/web-react</code> du d\u00e9p\u00f4t.</p>"},{"location":"poc/front/web-vue/","title":"Vue 3 + TypeScript + Vite (POC)","text":"<p>Ce POC illustre l'approche componente et r\u00e9active de Vue 3 avec TypeScript. Utile pour comparer ergonomie de templates, \u00e9tat (Composition API) et int\u00e9gration rapide avec Vite.</p> <p>Technos - Vue 3 + Composition API + TypeScript - Vite (build rapide) - Style minimal pour d\u00e9monstration</p> <p>Points forts pour AREA - Templates d\u00e9claratifs pour UI dynamique (forms, listes de services) - Pinia possible pour state global (non inclus mais facilement ajoutable) - Docker / CI friendly (cf. poc/front/web-vue/vite.config.ts)</p> <p>Screenshots  Page d'accueil du POC Vue.</p> <p>Run local <pre><code>cd poc/front/web-vue\nnpm ci\nnpm run dev\n# build\nnpm run build\n</code></pre></p> <p>Voir le code source r\u00e9el dans <code>/poc/front/web-vue</code> du d\u00e9p\u00f4t.</p>"},{"location":"services/","title":"\ud83d\udcda Services AREA","text":"<p>Bienvenue dans la documentation des services compatibles avec le projet AREA.</p> <p>Chaque service dispose de : - Une liste d\u2019Actions (d\u00e9clencheurs) - Une liste de R\u00e9actions - Des exemples d\u2019AREA r\u00e9alistes - Les donn\u00e9es n\u00e9cessaires \u00e0 la g\u00e9n\u00e9ration du <code>about.json</code></p>"},{"location":"services/#services-disponibles","title":"Services disponibles","text":"<ul> <li>Gmail</li> <li>Dropbox</li> <li>OneDrive</li> <li>Twitter (X)</li> <li>Timer</li> <li>Twitch</li> </ul>"},{"location":"services/console/","title":"Console Service","text":""},{"location":"services/console/#presentation","title":"Pr\u00e9sentation","text":"<p>Le service Console est un service utilitaire pour le d\u00e9bogage et les tests. Il permet d'afficher des messages dans la console du serveur backend.</p> <p>Authentification : Aucune (service interne)</p>"},{"location":"services/console/#reactions","title":"R\u00e9actions","text":""},{"location":"services/console/#log_message","title":"log_message","text":"<p>Affiche un message dans la console du serveur.</p> Param\u00e8tre Type Requis Description message string Non Message \u00e0 afficher (d\u00e9faut: \"AREA {id} triggered\") <pre><code>{\n  \"reactionService\": \"console\",\n  \"reactionType\": \"log_message\",\n  \"parameters\": {\n    \"message\": \"Mon AREA a \u00e9t\u00e9 d\u00e9clench\u00e9e !\"\n  }\n}\n</code></pre> <p>Format de sortie :</p> <pre><code>[ConsoleService] Mon AREA a \u00e9t\u00e9 d\u00e9clench\u00e9e !\n</code></pre>"},{"location":"services/console/#exemples-darea","title":"Exemples d'AREA","text":""},{"location":"services/console/#test-de-timer","title":"Test de Timer","text":"<p>V\u00e9rifier que le Timer fonctionne :</p> <pre><code>{\n  \"name\": \"Test Timer\",\n  \"actionService\": \"timer\",\n  \"actionType\": \"interval\",\n  \"reactionService\": \"console\",\n  \"reactionType\": \"log_message\",\n  \"parameters\": {\n    \"interval\": 60000,\n    \"message\": \"Timer d\u00e9clench\u00e9 - test OK\"\n  }\n}\n</code></pre>"},{"location":"services/console/#debug-twitch","title":"Debug Twitch","text":"<p>V\u00e9rifier la d\u00e9tection de stream :</p> <pre><code>{\n  \"name\": \"Debug Twitch\",\n  \"actionService\": \"twitch\",\n  \"actionType\": \"streamer_live\",\n  \"reactionService\": \"console\",\n  \"reactionType\": \"log_message\",\n  \"parameters\": {\n    \"username\": \"ninja\",\n    \"message\": \"Ninja est pass\u00e9 en live !\"\n  }\n}\n</code></pre>"},{"location":"services/console/#debug-email","title":"Debug Email","text":"<p>V\u00e9rifier la r\u00e9ception d'emails :</p> <pre><code>{\n  \"name\": \"Debug Email\",\n  \"actionService\": \"google\",\n  \"actionType\": \"new_email\",\n  \"reactionService\": \"console\",\n  \"reactionType\": \"log_message\",\n  \"parameters\": {\n    \"message\": \"Nouvel email d\u00e9tect\u00e9 dans la bo\u00eete de r\u00e9ception\"\n  }\n}\n</code></pre>"},{"location":"services/console/#cas-dusage","title":"Cas d'usage","text":"<p>Le service Console est utile pour :</p> <ul> <li>Tester que les triggers fonctionnent correctement</li> <li>D\u00e9boguer les automatisations en d\u00e9veloppement</li> <li>V\u00e9rifier le bon fonctionnement du moteur AREA</li> <li>Cr\u00e9er des logs de suivi simples</li> </ul>"},{"location":"services/dropbox/","title":"Service Dropbox","text":"<p>Le service Dropbox permet de surveiller les changements de fichiers et d'effectuer des op\u00e9rations sur votre stockage cloud Dropbox.</p>"},{"location":"services/dropbox/#configuration","title":"Configuration","text":""},{"location":"services/dropbox/#variables-denvironnement","title":"Variables d'environnement","text":"<pre><code>DROPBOX_CLIENT_ID=your_client_id\nDROPBOX_CLIENT_SECRET=your_client_secret\n</code></pre>"},{"location":"services/dropbox/#scopes-oauth-requis","title":"Scopes OAuth requis","text":"<ul> <li><code>files.metadata.read</code> - Lecture des m\u00e9tadonn\u00e9es de fichiers</li> <li><code>files.metadata.write</code> - \u00c9criture des m\u00e9tadonn\u00e9es de fichiers</li> <li><code>files.content.read</code> - Lecture du contenu des fichiers</li> <li><code>files.content.write</code> - \u00c9criture du contenu des fichiers</li> </ul>"},{"location":"services/dropbox/#url-de-callback","title":"URL de callback","text":"<pre><code>{CLIENT_URL}/services/callback\n</code></pre>"},{"location":"services/dropbox/#actions-triggers","title":"Actions (Triggers)","text":""},{"location":"services/dropbox/#file_added-nouveau-fichier-ajoute","title":"<code>file_added</code> - Nouveau fichier ajout\u00e9","text":"<p>D\u00e9clench\u00e9 lorsqu'un nouveau fichier est ajout\u00e9 dans un dossier Dropbox sp\u00e9cifi\u00e9.</p> <p>Param\u00e8tres :</p> Param\u00e8tre Type Description <code>folder_path</code> <code>string</code> Chemin du dossier \u00e0 surveiller (ex: <code>/Documents</code>) <p>Donn\u00e9es retourn\u00e9es :</p> <pre><code>{\n  \"file_name\": \"document.pdf\",\n  \"file_path\": \"/Documents/document.pdf\",\n  \"file_size\": 1024,\n  \"modified_date\": \"2024-01-15T10:30:00Z\"\n}\n</code></pre>"},{"location":"services/dropbox/#file_modified-fichier-modifie","title":"<code>file_modified</code> - Fichier modifi\u00e9","text":"<p>D\u00e9clench\u00e9 lorsqu'un fichier existant est modifi\u00e9.</p> <p>Param\u00e8tres :</p> Param\u00e8tre Type Description <code>folder_path</code> <code>string</code> Chemin du dossier \u00e0 surveiller <p>Donn\u00e9es retourn\u00e9es :</p> <pre><code>{\n  \"file_name\": \"document.pdf\",\n  \"file_path\": \"/Documents/document.pdf\",\n  \"modified_date\": \"2024-01-15T10:30:00Z\"\n}\n</code></pre>"},{"location":"services/dropbox/#file_deleted_anywhere-fichier-supprime","title":"<code>file_deleted_anywhere</code> - Fichier supprim\u00e9","text":"<p>D\u00e9clench\u00e9 lorsqu'un fichier est supprim\u00e9 n'importe o\u00f9 dans le Dropbox.</p> <p>Param\u00e8tres : Aucun</p> <p>Donn\u00e9es retourn\u00e9es :</p> <pre><code>{\n  \"file_path\": \"/Documents/old_file.pdf\",\n  \"deleted_date\": \"2024-01-15T10:30:00Z\"\n}\n</code></pre>"},{"location":"services/dropbox/#reactions","title":"R\u00e9actions","text":""},{"location":"services/dropbox/#upload_file-uploader-un-fichier","title":"<code>upload_file</code> - Uploader un fichier","text":"<p>Cr\u00e9e ou met \u00e0 jour un fichier dans Dropbox.</p> <p>Param\u00e8tres :</p> Param\u00e8tre Type Description <code>path</code> <code>string</code> Chemin de destination (ex: <code>/Documents/file.txt</code>) <code>content</code> <code>string</code> Contenu du fichier <p>Exemple d'utilisation :</p> <pre><code>{\n  \"reaction\": \"upload_file\",\n  \"params\": {\n    \"path\": \"/Notes/note.txt\",\n    \"content\": \"Contenu de ma note cr\u00e9\u00e9e automatiquement\"\n  }\n}\n</code></pre>"},{"location":"services/dropbox/#create_folder-creer-un-dossier","title":"<code>create_folder</code> - Cr\u00e9er un dossier","text":"<p>Cr\u00e9e un nouveau dossier dans Dropbox.</p> <p>Param\u00e8tres :</p> Param\u00e8tre Type Description <code>path</code> <code>string</code> Chemin du dossier \u00e0 cr\u00e9er (ex: <code>/Projects/NewProject</code>) <p>Exemple d'utilisation :</p> <pre><code>{\n  \"reaction\": \"create_folder\",\n  \"params\": {\n    \"path\": \"/Projects/NewProject\"\n  }\n}\n</code></pre>"},{"location":"services/dropbox/#delete_file-supprimer-un-fichier","title":"<code>delete_file</code> - Supprimer un fichier","text":"<p>Supprime un fichier ou dossier de Dropbox.</p> <p>Param\u00e8tres :</p> Param\u00e8tre Type Description <code>path</code> <code>string</code> Chemin du fichier ou dossier \u00e0 supprimer <p>Exemple d'utilisation :</p> <pre><code>{\n  \"reaction\": \"delete_file\",\n  \"params\": {\n    \"path\": \"/Temp/old_file.txt\"\n  }\n}\n</code></pre>"},{"location":"services/dropbox/#exemples-darea","title":"Exemples d'AREA","text":""},{"location":"services/dropbox/#sauvegarde-automatique","title":"Sauvegarde automatique","text":"<p>Trigger : Timer - Intervalle de 24h Reaction : Dropbox - Cr\u00e9er un dossier de backup journalier</p>"},{"location":"services/dropbox/#notification-de-nouveaux-fichiers","title":"Notification de nouveaux fichiers","text":"<p>Trigger : Dropbox - Nouveau fichier dans <code>/Shared</code> Reaction : Console - Logger l'\u00e9v\u00e9nement</p>"},{"location":"services/dropbox/#synchronisation-github-dropbox","title":"Synchronisation GitHub \u2192 Dropbox","text":"<p>Trigger : GitHub - Nouveau commit Reaction : Dropbox - Uploader un fichier de log</p>"},{"location":"services/dropbox/#architecture-technique","title":"Architecture technique","text":"<pre><code>DropboxService\n\u251c\u2500\u2500 extends ServiceBase\n\u251c\u2500\u2500 Actions\n\u2502   \u251c\u2500\u2500 file_added\n\u2502   \u251c\u2500\u2500 file_modified\n\u2502   \u2514\u2500\u2500 file_deleted_anywhere\n\u251c\u2500\u2500 Reactions\n\u2502   \u251c\u2500\u2500 upload_file\n\u2502   \u251c\u2500\u2500 create_folder\n\u2502   \u2514\u2500\u2500 delete_file\n\u2514\u2500\u2500 API\n    \u2514\u2500\u2500 Dropbox API v2\n</code></pre>"},{"location":"services/dropbox/#depannage","title":"D\u00e9pannage","text":""},{"location":"services/dropbox/#erreur-dauthentification","title":"Erreur d'authentification","text":"<p>Si vous obtenez une erreur lors de la connexion \u00e0 Dropbox :</p> <ol> <li>V\u00e9rifiez que <code>DROPBOX_CLIENT_ID</code> et <code>DROPBOX_CLIENT_SECRET</code> sont correctement configur\u00e9s</li> <li>Assurez-vous que l'URL de callback est bien configur\u00e9e dans l'app Dropbox</li> <li>V\u00e9rifiez que les scopes demand\u00e9s sont autoris\u00e9s</li> </ol>"},{"location":"services/dropbox/#fichiers-non-detectes","title":"Fichiers non d\u00e9tect\u00e9s","text":"<p>Si les triggers ne d\u00e9tectent pas les changements :</p> <ol> <li>V\u00e9rifiez le chemin du dossier surveill\u00e9 (doit commencer par <code>/</code>)</li> <li>Assurez-vous que le token d'acc\u00e8s n'est pas expir\u00e9</li> <li>V\u00e9rifiez les permissions de l'application</li> </ol>"},{"location":"services/github-implementation/","title":"GitHub Service Implementation","text":""},{"location":"services/github-implementation/#overview","title":"Overview","text":"<p>The GitHub service has been successfully implemented with full OAuth2 authentication and support for various actions (triggers) and reactions.</p>"},{"location":"services/github-implementation/#features-implemented","title":"Features Implemented","text":""},{"location":"services/github-implementation/#oauth2-authentication","title":"\u2705 OAuth2 Authentication","text":"<ul> <li>Scopes: <code>repo</code>, <code>read:org</code>, <code>user</code></li> <li>Authorization endpoint: <code>/api/services/github/connect</code></li> <li>Callback handling: <code>/api/services/github/callback</code></li> </ul>"},{"location":"services/github-implementation/#actions-triggers","title":"\u2705 Actions (Triggers)","text":"Action Description Parameters <code>issue_created</code> Detects when a new issue is created owner, repo <code>pr_opened</code> Detects when a PR is opened owner, repo <code>push_committed</code> Detects new commits to a branch owner, repo, branch <code>release_published</code> Detects when a release is published owner, repo <code>repo_starred</code> Detects when someone stars the repo owner, repo"},{"location":"services/github-implementation/#reactions-actions","title":"\u2705 Reactions (Actions)","text":"Reaction Description Parameters <code>create_issue</code> Creates a new issue owner, repo, title, body, labels <code>comment_issue</code> Comments on an issue/PR owner, repo, issue_number, body <code>create_file</code> Creates or updates a file owner, repo, path, content, message, branch <code>create_release</code> Creates a new release owner, repo, tag_name, name, body, draft, prerelease"},{"location":"services/github-implementation/#configuration","title":"Configuration","text":""},{"location":"services/github-implementation/#environment-variables","title":"Environment Variables","text":"<p>Add to your <code>.env</code> file: <pre><code>GITHUB_CLIENT_ID=your-github-oauth-app-client-id\nGITHUB_CLIENT_SECRET=your-github-oauth-app-secret\n</code></pre></p>"},{"location":"services/github-implementation/#create-github-oauth-app","title":"Create GitHub OAuth App","text":"<ol> <li>Go to https://github.com/settings/developers</li> <li>Click \"New OAuth App\"</li> <li>Set callback URL to: <code>http://localhost:8081/services/callback</code></li> <li>Copy the Client ID and Client Secret to your <code>.env</code></li> </ol>"},{"location":"services/github-implementation/#usage-examples","title":"Usage Examples","text":""},{"location":"services/github-implementation/#example-1-issue-created-send-console-log","title":"Example 1: Issue Created \u2192 Send Console Log","text":"<pre><code>{\n  \"name\": \"Monitor Issues\",\n  \"actionService\": \"github\",\n  \"actionType\": \"issue_created\",\n  \"reactionService\": \"console\",\n  \"reactionType\": \"log_message\",\n  \"parameters\": {\n    \"owner\": \"yourusername\",\n    \"repo\": \"your-repo\",\n    \"message\": \"New issue created!\"\n  }\n}\n</code></pre>"},{"location":"services/github-implementation/#example-2-timer-create-github-issue","title":"Example 2: Timer \u2192 Create GitHub Issue","text":"<pre><code>{\n  \"name\": \"Daily Report Issue\",\n  \"actionService\": \"timer\",\n  \"actionType\": \"schedule\",\n  \"reactionService\": \"github\",\n  \"reactionType\": \"create_issue\",\n  \"parameters\": {\n    \"targetTime\": \"2026-01-06T09:00:00Z\",\n    \"owner\": \"yourusername\",\n    \"repo\": \"your-repo\",\n    \"title\": \"Daily Report\",\n    \"body\": \"Automated daily report issue\",\n    \"labels\": [\"automated\", \"report\"]\n  }\n}\n</code></pre>"},{"location":"services/github-implementation/#example-3-new-release-create-file","title":"Example 3: New Release \u2192 Create File","text":"<pre><code>{\n  \"name\": \"Document Release\",\n  \"actionService\": \"github\",\n  \"actionType\": \"release_published\",\n  \"reactionService\": \"github\",\n  \"reactionType\": \"create_file\",\n  \"parameters\": {\n    \"owner\": \"yourusername\",\n    \"repo\": \"your-repo\",\n    \"path\": \"releases/latest.md\",\n    \"content\": \"# Latest Release\\\\n\\\\nNew release detected!\",\n    \"message\": \"Update latest release documentation\",\n    \"branch\": \"main\"\n  }\n}\n</code></pre>"},{"location":"services/github-implementation/#api-endpoints","title":"API Endpoints","text":""},{"location":"services/github-implementation/#connect-github-account","title":"Connect GitHub Account","text":"<pre><code># Get authorization URL\nGET /api/services/github/connect\nAuthorization: Bearer &lt;jwt_token&gt;\n\nResponse:\n{\n  \"url\": \"https://github.com/login/oauth/authorize?client_id=...\"\n}\n</code></pre>"},{"location":"services/github-implementation/#complete-oauth-flow","title":"Complete OAuth Flow","text":"<pre><code># After user authorizes, frontend sends code\nPOST /api/services/github/callback\nAuthorization: Bearer &lt;jwt_token&gt;\nContent-Type: application/json\n\n{\n  \"code\": \"authorization_code_from_github\",\n  \"redirectUri\": \"http://localhost:8081/services/callback\"\n}\n\nResponse:\n{\n  \"message\": \"Service connected successfully\",\n  \"connected\": true\n}\n</code></pre>"},{"location":"services/github-implementation/#technical-details","title":"Technical Details","text":""},{"location":"services/github-implementation/#implementation-files","title":"Implementation Files","text":"<ul> <li>Service: <code>/server/src/services/implementations/GitHubService.js</code></li> <li>Routes: <code>/server/src/routes/services.js</code> (GitHub OAuth added)</li> <li>Loader: <code>/server/src/services/loader.js</code> (registered)</li> <li>Seed: <code>/server/seed.js</code> (GitHub service entry)</li> </ul>"},{"location":"services/github-implementation/#dependencies","title":"Dependencies","text":"<ul> <li><code>@octokit/rest</code>: Official GitHub REST API client</li> <li>Dynamic ES Module import for Node.js 18 compatibility</li> </ul>"},{"location":"services/github-implementation/#database","title":"Database","text":"<p>GitHub service is registered in the <code>services</code> table with: - name: <code>github</code> - label: <code>GitHub</code> - icon: GitHub icon URL - active: <code>true</code></p> <p>User tokens are stored in <code>user_services</code> table with: - accessToken - refreshToken (if available) - expiresAt</p>"},{"location":"services/github-implementation/#testing","title":"Testing","text":""},{"location":"services/github-implementation/#verify-service-registration","title":"Verify Service Registration","text":"<pre><code>curl http://localhost:8080/about.json | jq '.server.services[] | select(.name==\"github\")'\n</code></pre>"},{"location":"services/github-implementation/#test-connection-flow","title":"Test Connection Flow","text":"<ol> <li>Register/login to get JWT token</li> <li>Call <code>/api/services/github/connect</code> with JWT</li> <li>Visit returned URL to authorize</li> <li>Complete callback with authorization code</li> <li>Verify connection in <code>/api/services/</code> endpoint</li> </ol>"},{"location":"services/github-implementation/#automation-loop","title":"Automation Loop","text":"<p>The service checks for triggers every 10 seconds (configurable). Each action compares the latest activity timestamp with the <code>lastTriggered</code> field to detect new events.</p>"},{"location":"services/github-implementation/#notes","title":"Notes","text":"<ul> <li>Requires user to connect their GitHub account via OAuth2</li> <li>Tokens are stored securely in the database</li> <li>All API calls use the user's GitHub token for authentication</li> <li>Rate limits apply per GitHub's API limits</li> <li>Supports both public and private repositories (with appropriate permissions)</li> </ul>"},{"location":"services/github/","title":"Service GitHub","text":"<p>Le service GitHub permet de surveiller les \u00e9v\u00e9nements d'un repository et d'interagir avec les issues, pull requests et releases.</p>"},{"location":"services/github/#configuration","title":"Configuration","text":""},{"location":"services/github/#variables-denvironnement","title":"Variables d'environnement","text":"<pre><code>GITHUB_CLIENT_ID=your_client_id\nGITHUB_CLIENT_SECRET=your_client_secret\n</code></pre>"},{"location":"services/github/#scopes-oauth-requis","title":"Scopes OAuth requis","text":"<ul> <li><code>user:email</code> - Acc\u00e8s \u00e0 l'email de l'utilisateur</li> <li><code>repo</code> - Acc\u00e8s complet aux repositories priv\u00e9s et publics</li> <li><code>admin:repo_hook</code> - Gestion des webhooks</li> <li><code>write:discussion</code> - \u00c9criture dans les discussions</li> </ul>"},{"location":"services/github/#url-de-callback","title":"URL de callback","text":"<pre><code>{CLIENT_URL}/services/callback\n</code></pre>"},{"location":"services/github/#actions-triggers","title":"Actions (Triggers)","text":""},{"location":"services/github/#issue_created-nouvelle-issue-creee","title":"<code>issue_created</code> - Nouvelle issue cr\u00e9\u00e9e","text":"<p>D\u00e9clench\u00e9 lorsqu'une nouvelle issue est cr\u00e9\u00e9e dans un repository.</p> <p>Param\u00e8tres :</p> Param\u00e8tre Type Description <code>owner</code> <code>string</code> Propri\u00e9taire du repository (username ou organisation) <code>repo</code> <code>string</code> Nom du repository <p>Donn\u00e9es retourn\u00e9es :</p> <pre><code>{\n  \"issue_number\": 42,\n  \"title\": \"Bug: Application crashes on startup\",\n  \"body\": \"Description of the issue...\",\n  \"author\": \"username\",\n  \"created_at\": \"2024-01-15T10:30:00Z\",\n  \"labels\": [\"bug\", \"priority-high\"]\n}\n</code></pre>"},{"location":"services/github/#pr_opened-pull-request-ouverte","title":"<code>pr_opened</code> - Pull Request ouverte","text":"<p>D\u00e9clench\u00e9 lorsqu'une nouvelle Pull Request est ouverte.</p> <p>Param\u00e8tres :</p> Param\u00e8tre Type Description <code>owner</code> <code>string</code> Propri\u00e9taire du repository <code>repo</code> <code>string</code> Nom du repository <p>Donn\u00e9es retourn\u00e9es :</p> <pre><code>{\n  \"pr_number\": 123,\n  \"title\": \"Feature: Add new authentication method\",\n  \"body\": \"Description of the PR...\",\n  \"author\": \"contributor\",\n  \"branch\": \"feature/new-auth\",\n  \"base_branch\": \"main\",\n  \"created_at\": \"2024-01-15T10:30:00Z\"\n}\n</code></pre>"},{"location":"services/github/#push_committed-nouveau-commit-pousse","title":"<code>push_committed</code> - Nouveau commit pouss\u00e9","text":"<p>D\u00e9clench\u00e9 lorsqu'un ou plusieurs commits sont pouss\u00e9s sur une branche.</p> <p>Param\u00e8tres :</p> Param\u00e8tre Type Description <code>owner</code> <code>string</code> Propri\u00e9taire du repository <code>repo</code> <code>string</code> Nom du repository <code>branch</code> <code>string</code> Branche \u00e0 surveiller (optionnel, d\u00e9faut: toutes) <p>Donn\u00e9es retourn\u00e9es :</p> <pre><code>{\n  \"commit_sha\": \"abc123def456\",\n  \"message\": \"Fix login bug\",\n  \"author\": \"developer\",\n  \"branch\": \"main\",\n  \"timestamp\": \"2024-01-15T10:30:00Z\",\n  \"files_changed\": 5\n}\n</code></pre>"},{"location":"services/github/#release_published-nouvelle-release-publiee","title":"<code>release_published</code> - Nouvelle release publi\u00e9e","text":"<p>D\u00e9clench\u00e9 lorsqu'une nouvelle release est publi\u00e9e.</p> <p>Param\u00e8tres :</p> Param\u00e8tre Type Description <code>owner</code> <code>string</code> Propri\u00e9taire du repository <code>repo</code> <code>string</code> Nom du repository <p>Donn\u00e9es retourn\u00e9es :</p> <pre><code>{\n  \"tag_name\": \"v1.2.0\",\n  \"name\": \"Release 1.2.0\",\n  \"body\": \"Release notes...\",\n  \"author\": \"maintainer\",\n  \"published_at\": \"2024-01-15T10:30:00Z\",\n  \"prerelease\": false\n}\n</code></pre>"},{"location":"services/github/#repo_starred-repository-mis-en-favori","title":"<code>repo_starred</code> - Repository mis en favori","text":"<p>D\u00e9clench\u00e9 lorsque quelqu'un ajoute le repository \u00e0 ses favoris (star).</p> <p>Param\u00e8tres :</p> Param\u00e8tre Type Description <code>owner</code> <code>string</code> Propri\u00e9taire du repository <code>repo</code> <code>string</code> Nom du repository <p>Donn\u00e9es retourn\u00e9es :</p> <pre><code>{\n  \"starred_by\": \"new_user\",\n  \"total_stars\": 1234,\n  \"starred_at\": \"2024-01-15T10:30:00Z\"\n}\n</code></pre>"},{"location":"services/github/#reactions","title":"R\u00e9actions","text":""},{"location":"services/github/#create_issue-creer-une-issue","title":"<code>create_issue</code> - Cr\u00e9er une issue","text":"<p>Cr\u00e9e une nouvelle issue dans un repository.</p> <p>Param\u00e8tres :</p> Param\u00e8tre Type Description <code>owner</code> <code>string</code> Propri\u00e9taire du repository <code>repo</code> <code>string</code> Nom du repository <code>title</code> <code>string</code> Titre de l'issue <code>body</code> <code>string</code> Contenu de l'issue (optionnel) <code>labels</code> <code>array</code> Labels \u00e0 ajouter (optionnel) <p>Exemple d'utilisation :</p> <pre><code>{\n  \"reaction\": \"create_issue\",\n  \"params\": {\n    \"owner\": \"my-org\",\n    \"repo\": \"my-project\",\n    \"title\": \"Bug automatiquement d\u00e9tect\u00e9\",\n    \"body\": \"Un probl\u00e8me a \u00e9t\u00e9 d\u00e9tect\u00e9 par le syst\u00e8me de monitoring.\",\n    \"labels\": [\"bug\", \"automated\"]\n  }\n}\n</code></pre>"},{"location":"services/github/#comment_issue-commenter-une-issue","title":"<code>comment_issue</code> - Commenter une issue","text":"<p>Ajoute un commentaire \u00e0 une issue existante.</p> <p>Param\u00e8tres :</p> Param\u00e8tre Type Description <code>owner</code> <code>string</code> Propri\u00e9taire du repository <code>repo</code> <code>string</code> Nom du repository <code>issue_number</code> <code>number</code> Num\u00e9ro de l'issue <code>body</code> <code>string</code> Contenu du commentaire <p>Exemple d'utilisation :</p> <pre><code>{\n  \"reaction\": \"comment_issue\",\n  \"params\": {\n    \"owner\": \"my-org\",\n    \"repo\": \"my-project\",\n    \"issue_number\": 42,\n    \"body\": \"Ce probl\u00e8me a \u00e9t\u00e9 automatiquement assign\u00e9 \u00e0 l'\u00e9quipe de support.\"\n  }\n}\n</code></pre>"},{"location":"services/github/#create_file-creer-un-fichier","title":"<code>create_file</code> - Cr\u00e9er un fichier","text":"<p>Cr\u00e9e ou met \u00e0 jour un fichier dans le repository.</p> <p>Param\u00e8tres :</p> Param\u00e8tre Type Description <code>owner</code> <code>string</code> Propri\u00e9taire du repository <code>repo</code> <code>string</code> Nom du repository <code>path</code> <code>string</code> Chemin du fichier (ex: <code>docs/log.md</code>) <code>content</code> <code>string</code> Contenu du fichier <code>message</code> <code>string</code> Message de commit <code>branch</code> <code>string</code> Branche cible (optionnel, d\u00e9faut: branche par d\u00e9faut) <p>Exemple d'utilisation :</p> <pre><code>{\n  \"reaction\": \"create_file\",\n  \"params\": {\n    \"owner\": \"my-org\",\n    \"repo\": \"my-project\",\n    \"path\": \"logs/automated-log.txt\",\n    \"content\": \"Log entry: Event triggered at 2024-01-15\",\n    \"message\": \"Add automated log entry\"\n  }\n}\n</code></pre>"},{"location":"services/github/#create_release-creer-une-release","title":"<code>create_release</code> - Cr\u00e9er une release","text":"<p>Cr\u00e9e une nouvelle release pour le repository.</p> <p>Param\u00e8tres :</p> Param\u00e8tre Type Description <code>owner</code> <code>string</code> Propri\u00e9taire du repository <code>repo</code> <code>string</code> Nom du repository <code>tag_name</code> <code>string</code> Nom du tag (ex: <code>v1.2.0</code>) <code>name</code> <code>string</code> Nom de la release <code>body</code> <code>string</code> Notes de release <code>prerelease</code> <code>boolean</code> Est-ce une pr\u00e9-release ? (optionnel) <p>Exemple d'utilisation :</p> <pre><code>{\n  \"reaction\": \"create_release\",\n  \"params\": {\n    \"owner\": \"my-org\",\n    \"repo\": \"my-project\",\n    \"tag_name\": \"v1.0.0\",\n    \"name\": \"Version 1.0.0\",\n    \"body\": \"## Changelog\\n- Initial release\\n- Feature A\\n- Feature B\"\n  }\n}\n</code></pre>"},{"location":"services/github/#exemples-darea","title":"Exemples d'AREA","text":""},{"location":"services/github/#notification-de-nouvelles-issues","title":"Notification de nouvelles issues","text":"<p>Trigger : GitHub - Nouvelle issue cr\u00e9\u00e9e sur <code>my-org/my-repo</code> Reaction : Gmail - Envoyer un email de notification</p>"},{"location":"services/github/#auto-commentaire-sur-pr","title":"Auto-commentaire sur PR","text":"<p>Trigger : GitHub - Pull Request ouverte Reaction : GitHub - Commenter avec les instructions de review</p>"},{"location":"services/github/#log-des-releases","title":"Log des releases","text":"<p>Trigger : GitHub - Nouvelle release publi\u00e9e Reaction : Dropbox - Uploader un fichier de changelog</p>"},{"location":"services/github/#creation-dissue-depuis-email","title":"Cr\u00e9ation d'issue depuis email","text":"<p>Trigger : Gmail - Email re\u00e7u avec sujet contenant \"BUG\" Reaction : GitHub - Cr\u00e9er une issue automatiquement</p>"},{"location":"services/github/#architecture-technique","title":"Architecture technique","text":"<pre><code>GitHubService\n\u251c\u2500\u2500 extends ServiceBase\n\u251c\u2500\u2500 Actions\n\u2502   \u251c\u2500\u2500 issue_created\n\u2502   \u251c\u2500\u2500 pr_opened\n\u2502   \u251c\u2500\u2500 push_committed\n\u2502   \u251c\u2500\u2500 release_published\n\u2502   \u2514\u2500\u2500 repo_starred\n\u251c\u2500\u2500 Reactions\n\u2502   \u251c\u2500\u2500 create_issue\n\u2502   \u251c\u2500\u2500 comment_issue\n\u2502   \u251c\u2500\u2500 create_file\n\u2502   \u2514\u2500\u2500 create_release\n\u2514\u2500\u2500 API\n    \u2514\u2500\u2500 GitHub REST API v3\n</code></pre>"},{"location":"services/github/#depannage","title":"D\u00e9pannage","text":""},{"location":"services/github/#erreur-dauthentification","title":"Erreur d'authentification","text":"<p>Si vous obtenez une erreur 401 ou 403 :</p> <ol> <li>V\u00e9rifiez que <code>GITHUB_CLIENT_ID</code> et <code>GITHUB_CLIENT_SECRET</code> sont corrects</li> <li>Assurez-vous que l'URL de callback est correctement configur\u00e9e</li> <li>V\u00e9rifiez que les scopes demand\u00e9s sont autoris\u00e9s dans l'OAuth App</li> </ol>"},{"location":"services/github/#repository-non-trouve","title":"Repository non trouv\u00e9","text":"<p>Si vous obtenez une erreur \"Not Found\" :</p> <ol> <li>V\u00e9rifiez que le nom du repository et du propri\u00e9taire sont corrects</li> <li>Pour les repos priv\u00e9s, assurez-vous que le scope <code>repo</code> est autoris\u00e9</li> <li>V\u00e9rifiez que l'utilisateur a acc\u00e8s au repository</li> </ol>"},{"location":"services/github/#webhooks-non-recus","title":"Webhooks non re\u00e7us","text":"<p>Si les triggers ne fonctionnent pas :</p> <ol> <li>V\u00e9rifiez que les webhooks sont configur\u00e9s dans les settings du repository</li> <li>Assurez-vous que le serveur est accessible depuis Internet</li> <li>V\u00e9rifiez les logs des webhooks dans GitHub</li> </ol>"},{"location":"services/gmail/","title":"Gmail (Google) Service","text":""},{"location":"services/gmail/#presentation","title":"Pr\u00e9sentation","text":"<p>Le service Google (Gmail) permet d'interagir avec les emails via l'API Gmail. Il offre des d\u00e9clencheurs bas\u00e9s sur la r\u00e9ception d'emails et la possibilit\u00e9 d'envoyer des emails en r\u00e9action.</p> <p>Authentification : OAuth2 (Google)</p>"},{"location":"services/gmail/#configuration-oauth","title":"Configuration OAuth","text":""},{"location":"services/gmail/#creer-un-projet-google-cloud","title":"Cr\u00e9er un projet Google Cloud","text":"<ol> <li>Acc\u00e9dez \u00e0 Google Cloud Console</li> <li>Cr\u00e9ez un nouveau projet ou s\u00e9lectionnez-en un existant</li> <li>Activez l'API Gmail dans API et services &gt; Biblioth\u00e8que</li> </ol>"},{"location":"services/gmail/#configurer-oauth","title":"Configurer OAuth","text":"<ol> <li>Menu &gt; API et services &gt; Identifiants</li> <li>Cr\u00e9er des identifiants &gt; ID client OAuth</li> <li>Type d'application : Application Web</li> <li>URI de redirection autoris\u00e9s :</li> <li><code>http://localhost:8081/services/callback</code> (d\u00e9veloppement)</li> <li>Votre URL de production</li> </ol>"},{"location":"services/gmail/#variables-denvironnement","title":"Variables d'environnement","text":"<pre><code>GOOGLE_CLIENT_ID=votre-client-id.apps.googleusercontent.com\nGOOGLE_CLIENT_SECRET=votre-client-secret\n</code></pre>"},{"location":"services/gmail/#scopes-requis","title":"Scopes requis","text":"Scope Usage gmail.send Envoi d'emails gmail.readonly Lecture des emails gmail.modify Modification des emails userinfo.email Lecture de l'email utilisateur userinfo.profile Informations du profil"},{"location":"services/gmail/#actions-triggers","title":"Actions (Triggers)","text":""},{"location":"services/gmail/#new_email","title":"new_email","text":"<p>D\u00e9clenche l'AREA quand un nouvel email correspondant aux crit\u00e8res est re\u00e7u.</p> Param\u00e8tre Type Requis Description from string Non Filtrer par adresse de l'exp\u00e9diteur subject string Non Filtrer par mots dans le sujet <pre><code>{\n  \"actionService\": \"google\",\n  \"actionType\": \"new_email\",\n  \"parameters\": {\n    \"from\": \"boss@company.com\",\n    \"subject\": \"urgent\"\n  }\n}\n</code></pre>"},{"location":"services/gmail/#email_received","title":"email_received","text":"<p>D\u00e9clenche l'AREA quand n'importe quel nouvel email est re\u00e7u dans la bo\u00eete de r\u00e9ception.</p> <p>Aucun param\u00e8tre requis.</p> <pre><code>{\n  \"actionService\": \"google\",\n  \"actionType\": \"email_received\",\n  \"parameters\": {}\n}\n</code></pre>"},{"location":"services/gmail/#email_from_sender","title":"email_from_sender","text":"<p>D\u00e9clenche l'AREA quand un email est re\u00e7u d'un exp\u00e9diteur sp\u00e9cifique.</p> Param\u00e8tre Type Requis Description sender string Oui Adresse email de l'exp\u00e9diteur \u00e0 surveiller <pre><code>{\n  \"actionService\": \"google\",\n  \"actionType\": \"email_from_sender\",\n  \"parameters\": {\n    \"sender\": \"important@company.com\"\n  }\n}\n</code></pre>"},{"location":"services/gmail/#email_with_keyword","title":"email_with_keyword","text":"<p>D\u00e9clenche l'AREA quand un email contient un mot-cl\u00e9 sp\u00e9cifique dans le sujet ou le corps.</p> Param\u00e8tre Type Requis Description keyword string Oui Mot-cl\u00e9 \u00e0 rechercher dans l'email <pre><code>{\n  \"actionService\": \"google\",\n  \"actionType\": \"email_with_keyword\",\n  \"parameters\": {\n    \"keyword\": \"URGENT\"\n  }\n}\n</code></pre>"},{"location":"services/gmail/#email_with_attachment","title":"email_with_attachment","text":"<p>D\u00e9clenche l'AREA quand un email avec une pi\u00e8ce jointe est re\u00e7u.</p> <p>Aucun param\u00e8tre requis.</p> <pre><code>{\n  \"actionService\": \"google\",\n  \"actionType\": \"email_with_attachment\",\n  \"parameters\": {}\n}\n</code></pre>"},{"location":"services/gmail/#reactions","title":"R\u00e9actions","text":""},{"location":"services/gmail/#send_email","title":"send_email","text":"<p>Envoie un email via l'API Gmail au nom de l'utilisateur connect\u00e9.</p> Param\u00e8tre Type Requis Description recipient string Oui Adresse email du destinataire subject string Oui Sujet de l'email body string Oui Corps du message (texte brut) <pre><code>{\n  \"reactionService\": \"google\",\n  \"reactionType\": \"send_email\",\n  \"parameters\": {\n    \"recipient\": \"colleague@company.com\",\n    \"subject\": \"Notification automatique\",\n    \"body\": \"Ce message a \u00e9t\u00e9 envoy\u00e9 automatiquement par AREA.\"\n  }\n}\n</code></pre>"},{"location":"services/gmail/#exemples-darea","title":"Exemples d'AREA","text":""},{"location":"services/gmail/#timer-vers-email-quotidien","title":"Timer vers Email quotidien","text":"<p>Envoyer un rappel quotidien par email :</p> <pre><code>{\n  \"name\": \"Rappel quotidien\",\n  \"actionService\": \"timer\",\n  \"actionType\": \"interval\",\n  \"reactionService\": \"google\",\n  \"reactionType\": \"send_email\",\n  \"parameters\": {\n    \"interval\": 86400000,\n    \"recipient\": \"me@example.com\",\n    \"subject\": \"Rappel du jour\",\n    \"body\": \"N'oubliez pas de v\u00e9rifier vos t\u00e2ches !\"\n  }\n}\n</code></pre>"},{"location":"services/gmail/#twitch-vers-email","title":"Twitch vers Email","text":"<p>Recevoir un email quand un streamer est en live :</p> <pre><code>{\n  \"name\": \"Notification Twitch\",\n  \"actionService\": \"twitch\",\n  \"actionType\": \"streamer_live\",\n  \"reactionService\": \"google\",\n  \"reactionType\": \"send_email\",\n  \"parameters\": {\n    \"username\": \"shroud\",\n    \"recipient\": \"me@example.com\",\n    \"subject\": \"Shroud est en live !\",\n    \"body\": \"Votre streamer favori vient de commencer \u00e0 diffuser sur Twitch.\"\n  }\n}\n</code></pre>"},{"location":"services/microsoft/","title":"Microsoft Service","text":""},{"location":"services/microsoft/#presentation","title":"Pr\u00e9sentation","text":"<p>Le service Microsoft permet d'int\u00e9grer OneDrive (stockage cloud) et Outlook (emails) dans vos automatisations AREA.</p> <p>Authentification : OAuth2 (Microsoft Identity Platform)</p>"},{"location":"services/microsoft/#configuration-oauth","title":"Configuration OAuth","text":""},{"location":"services/microsoft/#creer-une-application-azure-ad","title":"Cr\u00e9er une application Azure AD","text":"<ol> <li>Acc\u00e9dez au Azure Portal</li> <li>Allez dans Azure Active Directory &gt; Inscriptions d'applications</li> <li>Cliquez sur Nouvelle inscription</li> <li>Remplissez :</li> <li>Nom : AREA Microsoft Integration</li> <li>Types de comptes : Comptes personnels Microsoft uniquement</li> <li>URI de redirection : <code>http://localhost:8081/services/callback</code></li> <li>Notez l'ID d'application (client)</li> <li>Dans Certificats et secrets, cr\u00e9ez un nouveau secret client</li> </ol>"},{"location":"services/microsoft/#variables-denvironnement","title":"Variables d'environnement","text":"<pre><code>MICROSOFT_CLIENT_ID=votre-azure-client-id\nMICROSOFT_CLIENT_SECRET=votre-azure-client-secret\n</code></pre>"},{"location":"services/microsoft/#scopes-requis","title":"Scopes requis","text":"Scope Usage Files.Read Lire les fichiers OneDrive Files.ReadWrite \u00c9crire les fichiers OneDrive Mail.Read Lire les emails Mail.Send Envoyer des emails User.Read Informations utilisateur offline_access Refresh tokens"},{"location":"services/microsoft/#actions-onedrive","title":"Actions OneDrive","text":""},{"location":"services/microsoft/#onedrive_new_file","title":"onedrive_new_file","text":"<p>D\u00e9clenche quand un nouveau fichier appara\u00eet dans un dossier OneDrive.</p> Param\u00e8tre Type Requis Description folder string Non Dossier \u00e0 surveiller (d\u00e9faut: racine) <pre><code>{\n  \"actionService\": \"microsoft\",\n  \"actionType\": \"onedrive_new_file\",\n  \"parameters\": {\n    \"folder\": \"/Documents\"\n  }\n}\n</code></pre>"},{"location":"services/microsoft/#onedrive_file_modified","title":"onedrive_file_modified","text":"<p>D\u00e9clenche quand un fichier est modifi\u00e9 dans OneDrive.</p> Param\u00e8tre Type Requis Description folder string Non Dossier \u00e0 surveiller <pre><code>{\n  \"actionService\": \"microsoft\",\n  \"actionType\": \"onedrive_file_modified\",\n  \"parameters\": {\n    \"folder\": \"/Projects\"\n  }\n}\n</code></pre>"},{"location":"services/microsoft/#actions-outlook","title":"Actions Outlook","text":""},{"location":"services/microsoft/#outlook_new_email","title":"outlook_new_email","text":"<p>D\u00e9clenche quand un nouvel email arrive dans Outlook.</p> Param\u00e8tre Type Requis Description from string Non Filtrer par exp\u00e9diteur subject string Non Filtrer par sujet <pre><code>{\n  \"actionService\": \"microsoft\",\n  \"actionType\": \"outlook_new_email\",\n  \"parameters\": {\n    \"from\": \"boss@company.com\"\n  }\n}\n</code></pre>"},{"location":"services/microsoft/#outlook_email_important","title":"outlook_email_important","text":"<p>D\u00e9clenche quand un email marqu\u00e9 comme important arrive.</p> <p>Aucun param\u00e8tre requis.</p> <pre><code>{\n  \"actionService\": \"microsoft\",\n  \"actionType\": \"outlook_email_important\",\n  \"parameters\": {}\n}\n</code></pre>"},{"location":"services/microsoft/#reactions-onedrive","title":"R\u00e9actions OneDrive","text":""},{"location":"services/microsoft/#onedrive_upload","title":"onedrive_upload","text":"<p>Upload un fichier vers OneDrive.</p> Param\u00e8tre Type Requis Description path string Oui Chemin de destination content string Oui Contenu du fichier filename string Oui Nom du fichier <pre><code>{\n  \"reactionService\": \"microsoft\",\n  \"reactionType\": \"onedrive_upload\",\n  \"parameters\": {\n    \"path\": \"/Backups\",\n    \"filename\": \"log.txt\",\n    \"content\": \"Contenu du fichier\"\n  }\n}\n</code></pre>"},{"location":"services/microsoft/#onedrive_create_folder","title":"onedrive_create_folder","text":"<p>Cr\u00e9e un dossier dans OneDrive.</p> Param\u00e8tre Type Requis Description path string Oui Chemin du dossier \u00e0 cr\u00e9er <pre><code>{\n  \"reactionService\": \"microsoft\",\n  \"reactionType\": \"onedrive_create_folder\",\n  \"parameters\": {\n    \"path\": \"/Projects/NewProject\"\n  }\n}\n</code></pre>"},{"location":"services/microsoft/#reactions-outlook","title":"R\u00e9actions Outlook","text":""},{"location":"services/microsoft/#outlook_send_email","title":"outlook_send_email","text":"<p>Envoie un email via Outlook.</p> Param\u00e8tre Type Requis Description recipient string Oui Adresse du destinataire subject string Oui Sujet de l'email body string Oui Corps du message <pre><code>{\n  \"reactionService\": \"microsoft\",\n  \"reactionType\": \"outlook_send_email\",\n  \"parameters\": {\n    \"recipient\": \"colleague@company.com\",\n    \"subject\": \"Notification\",\n    \"body\": \"Message automatique\"\n  }\n}\n</code></pre>"},{"location":"services/microsoft/#exemples-darea","title":"Exemples d'AREA","text":""},{"location":"services/microsoft/#backup-automatique","title":"Backup automatique","text":"<pre><code>{\n  \"name\": \"Backup journalier\",\n  \"actionService\": \"timer\",\n  \"actionType\": \"interval\",\n  \"reactionService\": \"microsoft\",\n  \"reactionType\": \"onedrive_upload\",\n  \"parameters\": {\n    \"interval\": 86400000,\n    \"path\": \"/Backups\",\n    \"filename\": \"daily-log.txt\",\n    \"content\": \"Backup effectu\u00e9\"\n  }\n}\n</code></pre>"},{"location":"services/microsoft/#notification-par-email","title":"Notification par email","text":"<pre><code>{\n  \"name\": \"Notification nouveau fichier\",\n  \"actionService\": \"microsoft\",\n  \"actionType\": \"onedrive_new_file\",\n  \"reactionService\": \"microsoft\",\n  \"reactionType\": \"outlook_send_email\",\n  \"parameters\": {\n    \"folder\": \"/Shared\",\n    \"recipient\": \"me@example.com\",\n    \"subject\": \"Nouveau fichier partag\u00e9\",\n    \"body\": \"Un nouveau fichier a \u00e9t\u00e9 ajout\u00e9 dans le dossier partag\u00e9.\"\n  }\n}\n</code></pre>"},{"location":"services/timer/","title":"Timer Service","text":""},{"location":"services/timer/#presentation","title":"Pr\u00e9sentation","text":"<p>Le service Timer permet de cr\u00e9er des d\u00e9clencheurs bas\u00e9s sur le temps. Il ne n\u00e9cessite aucune authentification externe et fonctionne enti\u00e8rement en interne.</p> <p>Authentification : Aucune (service interne)</p>"},{"location":"services/timer/#actions-triggers","title":"Actions (Triggers)","text":""},{"location":"services/timer/#interval","title":"interval","text":"<p>D\u00e9clenche l'AREA \u00e0 intervalles r\u00e9guliers.</p> Param\u00e8tre Type Requis Description interval number Oui Intervalle en millisecondes"},{"location":"services/timer/#valeurs-courantes","title":"Valeurs courantes","text":"Intervalle Valeur (ms) 1 minute 60000 5 minutes 300000 15 minutes 900000 30 minutes 1800000 1 heure 3600000 6 heures 21600000 12 heures 43200000 24 heures 86400000 <pre><code>{\n  \"actionService\": \"timer\",\n  \"actionType\": \"interval\",\n  \"parameters\": {\n    \"interval\": 300000\n  }\n}\n</code></pre> <p>Le service compare le timestamp actuel avec <code>lastTriggered</code> de l'AREA. Si la diff\u00e9rence d\u00e9passe l'intervalle configur\u00e9, l'AREA est d\u00e9clench\u00e9e.</p>"},{"location":"services/timer/#exemples-darea","title":"Exemples d'AREA","text":""},{"location":"services/timer/#rappel-toutes-les-heures","title":"Rappel toutes les heures","text":"<pre><code>{\n  \"name\": \"Rappel horaire\",\n  \"actionService\": \"timer\",\n  \"actionType\": \"interval\",\n  \"reactionService\": \"google\",\n  \"reactionType\": \"send_email\",\n  \"parameters\": {\n    \"interval\": 3600000,\n    \"recipient\": \"me@example.com\",\n    \"subject\": \"Rappel horaire\",\n    \"body\": \"N'oubliez pas de faire une pause !\"\n  }\n}\n</code></pre>"},{"location":"services/timer/#log-quotidien","title":"Log quotidien","text":"<pre><code>{\n  \"name\": \"Log journalier\",\n  \"actionService\": \"timer\",\n  \"actionType\": \"interval\",\n  \"reactionService\": \"console\",\n  \"reactionType\": \"log_message\",\n  \"parameters\": {\n    \"interval\": 86400000,\n    \"message\": \"Journ\u00e9e \u00e9coul\u00e9e - syst\u00e8me op\u00e9rationnel\"\n  }\n}\n</code></pre>"},{"location":"services/timer/#backup-onedrive-toutes-les-6-heures","title":"Backup OneDrive toutes les 6 heures","text":"<pre><code>{\n  \"name\": \"Backup r\u00e9gulier\",\n  \"actionService\": \"timer\",\n  \"actionType\": \"interval\",\n  \"reactionService\": \"microsoft\",\n  \"reactionType\": \"onedrive_upload\",\n  \"parameters\": {\n    \"interval\": 21600000,\n    \"path\": \"/Backups\",\n    \"filename\": \"status.txt\",\n    \"content\": \"Syst\u00e8me OK\"\n  }\n}\n</code></pre>"},{"location":"services/timer/#cas-dusage","title":"Cas d'usage","text":"<p>Le Timer est utile pour :</p> <ul> <li>Rappels p\u00e9riodiques par email</li> <li>V\u00e9rifications de sant\u00e9 du syst\u00e8me</li> <li>Backups automatiques</li> <li>Rapports quotidiens/hebdomadaires</li> <li>Nettoyage de donn\u00e9es planifi\u00e9</li> </ul>"},{"location":"services/twitch/","title":"Twitch Service Documentation","text":""},{"location":"services/twitch/#overview","title":"Overview","text":"<p>The Twitch service integration allows users to automate actions based on Twitch streams and control their Twitch account.</p>"},{"location":"services/twitch/#features","title":"Features","text":""},{"location":"services/twitch/#action-trigger","title":"Action (Trigger)","text":"<ul> <li>streamer_live: Detects when a specific streamer goes live (Offline \u2192 Live transition)</li> </ul>"},{"location":"services/twitch/#reaction","title":"Reaction","text":"<ul> <li>block_user: Blocks a specified user on Twitch</li> </ul>"},{"location":"services/twitch/#setup-instructions","title":"Setup Instructions","text":""},{"location":"services/twitch/#1-create-twitch-application","title":"1. Create Twitch Application","text":"<ol> <li>Go to Twitch Developer Console</li> <li>Log in with your Twitch account</li> <li>Click \"Register Your Application\"</li> <li>Fill in the details:</li> <li>Name: AREA Twitch Integration (or your choice)</li> <li>OAuth Redirect URLs: <code>http://localhost:8080/auth/twitch/callback</code></li> <li>Category: Application Integration</li> <li>Click \"Create\"</li> <li>Click \"Manage\" on your new application</li> <li>Note your Client ID</li> <li>Click \"New Secret\" to generate a Client Secret</li> </ol>"},{"location":"services/twitch/#2-configure-environment-variables","title":"2. Configure Environment Variables","text":"<p>Add to your <code>.env</code> file:</p> <pre><code>TWITCH_CLIENT_ID=your_twitch_client_id_here\nTWITCH_CLIENT_SECRET=your_twitch_client_secret_here\nTWITCH_CALLBACK_URL=http://localhost:8080/auth/twitch/callback\n</code></pre>"},{"location":"services/twitch/#3-install-required-package","title":"3. Install Required Package","text":"<p>The package is already installed, but for reference:</p> <pre><code>npm install passport-twitch-new\n</code></pre>"},{"location":"services/twitch/#4-run-database-migration","title":"4. Run Database Migration","text":"<pre><code>psql -U area -d area_db -f server/migrations/add_twitch_fields.sql\n</code></pre>"},{"location":"services/twitch/#5-test-the-integration","title":"5. Test the Integration","text":"<ol> <li>Start your server: <code>npm start</code></li> <li>Authenticate a user via your app</li> <li>Connect Twitch: GET <code>http://localhost:8080/auth/twitch</code> (with JWT token in Authorization header)</li> <li>After authorization, the user will be redirected back with Twitch connected</li> </ol>"},{"location":"services/twitch/#api-endpoints","title":"API Endpoints","text":""},{"location":"services/twitch/#connect-twitch","title":"Connect Twitch","text":"<pre><code>GET /auth/twitch\nAuthorization: Bearer &lt;JWT_TOKEN&gt;\n</code></pre>"},{"location":"services/twitch/#twitch-callback-automatic","title":"Twitch Callback (Automatic)","text":"<pre><code>GET /auth/twitch/callback\n</code></pre>"},{"location":"services/twitch/#check-connection-status","title":"Check Connection Status","text":"<pre><code>GET /auth/twitch/status\nAuthorization: Bearer &lt;JWT_TOKEN&gt;\n\nResponse:\n{\n  \"connected\": true,\n  \"twitchId\": \"12345678\",\n  \"twitchUsername\": \"username\"\n}\n</code></pre>"},{"location":"services/twitch/#disconnect-twitch","title":"Disconnect Twitch","text":"<pre><code>POST /auth/twitch/disconnect\nAuthorization: Bearer &lt;JWT_TOKEN&gt;\n\nResponse:\n{\n  \"success\": true,\n  \"message\": \"Twitch disconnected successfully\"\n}\n</code></pre>"},{"location":"services/twitch/#creating-areas-with-twitch","title":"Creating AREAs with Twitch","text":""},{"location":"services/twitch/#example-1-get-notified-when-favorite-streamer-goes-live","title":"Example 1: Get Notified When Favorite Streamer Goes Live","text":"<p>Action: <code>streamer_live</code> (Twitch) Reaction: <code>log_console</code> (Console)</p> <pre><code>{\n  \"name\": \"Alert when xQc goes live\",\n  \"actionService\": \"twitch\",\n  \"actionType\": \"streamer_live\",\n  \"reactionService\": \"console\",\n  \"reactionType\": \"log\",\n  \"parameters\": {\n    \"username\": \"xqc\"\n  },\n  \"active\": true\n}\n</code></pre>"},{"location":"services/twitch/#example-2-auto-block-user-when-streamer-goes-live","title":"Example 2: Auto-block User When Streamer Goes Live","text":"<p>Action: <code>streamer_live</code> (Twitch) Reaction: <code>block_user</code> (Twitch)</p> <pre><code>{\n  \"name\": \"Block troll when streamer goes live\",\n  \"actionService\": \"twitch\",\n  \"actionType\": \"streamer_live\",\n  \"reactionService\": \"twitch\",\n  \"reactionType\": \"block_user\",\n  \"parameters\": {\n    \"username\": \"favorite_streamer\",\n    \"blockUsername\": \"troll_account\"\n  },\n  \"active\": true\n}\n</code></pre>"},{"location":"services/twitch/#technical-details","title":"Technical Details","text":""},{"location":"services/twitch/#token-management","title":"Token Management","text":"<p>The integration includes automatic token refresh functionality: - Tokens are checked before each API call - If expired (or expiring within 5 minutes), they are automatically refreshed - New tokens are saved to the database - Handles 401 errors with automatic retry after refresh - No user intervention required</p>"},{"location":"services/twitch/#twitch-api-requirements-helix","title":"Twitch API Requirements (Helix)","text":"<p>CRITICAL: All Twitch API calls require TWO headers: <pre><code>{\n  'Authorization': 'Bearer &lt;access_token&gt;',\n  'Client-Id': '&lt;your_client_id&gt;'\n}\n</code></pre></p> <p>Missing either header will result in 401 errors.</p>"},{"location":"services/twitch/#state-tracking","title":"State Tracking","text":"<p>The trigger uses <code>twitchStreamLastStatus</code> (JSONB field) to track stream states: - Stores per-streamer state: <code>{ \"streamer_username\": { isLive: boolean, checkedAt: timestamp } }</code> - Detects \"Offline \u2192 Live\" transitions - Prevents duplicate triggers for the same stream session - Resets when user disconnects Twitch</p>"},{"location":"services/twitch/#required-scopes","title":"Required Scopes","text":"<p>The integration requests the following Twitch scopes: - <code>user:read:follows</code>: Read user's followed channels (used for stream checks) - <code>user:manage:blocked_users</code>: Block/unblock users</p>"},{"location":"services/twitch/#error-handling","title":"Error Handling","text":"<p>The service includes comprehensive error handling: - Expired tokens are automatically refreshed - 401 errors trigger token refresh and retry - Missing credentials return clear error messages - API errors are logged with full context - Username resolution failures provide helpful messages</p>"},{"location":"services/twitch/#api-methods","title":"API Methods","text":""},{"location":"services/twitch/#core-service-methods","title":"Core Service Methods","text":""},{"location":"services/twitch/#getfreshaccesstokenuser","title":"<code>getFreshAccessToken(user)</code>","text":"<ul> <li>Checks token expiration (5-minute buffer)</li> <li>Automatically refreshes if needed</li> <li>Updates database with new token</li> <li>Returns valid access token</li> </ul>"},{"location":"services/twitch/#makerequestuser-method-endpoint-data-params","title":"<code>makeRequest(user, method, endpoint, data, params)</code>","text":"<ul> <li>Makes authenticated requests to Twitch API</li> <li>Includes both Authorization and Client-Id headers</li> <li>Handles 401 errors with automatic retry</li> <li>Supports GET, POST, PUT, DELETE methods</li> </ul>"},{"location":"services/twitch/#resolveusernametoiduser-username","title":"<code>resolveUsernameToId(user, username)</code>","text":"<ul> <li>Converts Twitch username to user ID</li> <li>Required for stream checks and blocking</li> <li>Uses <code>GET /users?login=username</code></li> </ul>"},{"location":"services/twitch/#getstreamstatususer-userid","title":"<code>getStreamStatus(user, userId)</code>","text":"<ul> <li>Checks if a stream is live</li> <li>Returns stream metadata (title, viewers, game, etc.)</li> <li>Uses <code>GET /streams?user_id=userId</code></li> </ul>"},{"location":"services/twitch/#blockuseruser-targetuserid","title":"<code>blockUser(user, targetUserId)</code>","text":"<ul> <li>Blocks a specified user</li> <li>Requires target user ID</li> <li>Uses <code>PUT /users/blocks?target_user_id=userId</code></li> </ul>"},{"location":"services/twitch/#troubleshooting","title":"Troubleshooting","text":""},{"location":"services/twitch/#failed-to-refresh-twitch-token","title":"\"Failed to refresh Twitch token\"","text":"<p>Problem: Token refresh failed Solution: User needs to disconnect and reconnect Twitch via <code>/auth/twitch</code></p>"},{"location":"services/twitch/#twitch-user-username-not-found","title":"\"Twitch user 'username' not found\"","text":"<p>Problem: Invalid or non-existent username Solution: Verify the username is correct and exists on Twitch</p>"},{"location":"services/twitch/#user-must-be-logged-in-to-connect-twitch","title":"\"User must be logged in to connect Twitch\"","text":"<p>Problem: JWT token missing or invalid Solution: Include valid JWT token in Authorization header when calling <code>/auth/twitch</code></p>"},{"location":"services/twitch/#missing-username-parameter-for-trigger","title":"\"Missing 'username' parameter for trigger\"","text":"<p>Problem: AREA parameters don't include required username Solution: Ensure the AREA parameters include <code>username</code> field</p>"},{"location":"services/twitch/#finding-twitch-username","title":"Finding Twitch Username","text":"<ul> <li>Go to a Twitch channel: <code>https://twitch.tv/username</code></li> <li>The username is in the URL (case-insensitive)</li> <li>Or check profile settings when logged in</li> </ul>"},{"location":"services/twitch/#database-schema","title":"Database Schema","text":""},{"location":"services/twitch/#user-model-fields-added","title":"User Model Fields Added","text":"<pre><code>twitchAccessToken       TEXT          -- OAuth access token\ntwitchRefreshToken      TEXT          -- OAuth refresh token\ntwitchTokenExpiresAt    TIMESTAMP     -- Token expiration timestamp\ntwitchId                VARCHAR(255)  -- Twitch user ID\ntwitchUsername          VARCHAR(255)  -- Twitch username (login)\ntwitchStreamLastStatus  JSONB         -- Stream state tracking (per-streamer)\n</code></pre>"},{"location":"services/twitch/#example-twitchstreamlaststatus-structure","title":"Example <code>twitchStreamLastStatus</code> Structure","text":"<pre><code>{\n  \"streamer_xqc\": {\n    \"isLive\": true,\n    \"checkedAt\": \"2026-01-12T10:30:00Z\"\n  },\n  \"streamer_pokimane\": {\n    \"isLive\": false,\n    \"checkedAt\": \"2026-01-12T10:30:00Z\"\n  }\n}\n</code></pre>"},{"location":"services/twitch/#service-architecture","title":"Service Architecture","text":"<pre><code>TwitchService extends ServiceBase\n\u251c\u2500\u2500 Actions\n\u2502   \u2514\u2500\u2500 streamer_live (username)\n\u251c\u2500\u2500 Reactions\n\u2502   \u2514\u2500\u2500 block_user (username)\n\u2514\u2500\u2500 Helper Methods\n    \u251c\u2500\u2500 getFreshAccessToken()      // Automatic token refresh\n    \u251c\u2500\u2500 makeRequest()              // Authenticated API calls (dual headers)\n    \u251c\u2500\u2500 resolveUsernameToId()      // Username \u2192 ID conversion\n    \u251c\u2500\u2500 getStreamStatus()          // Check if stream is live\n    \u251c\u2500\u2500 blockUser()                // Block a user\n    \u2514\u2500\u2500 isConnected()              // Check connection status\n</code></pre>"},{"location":"services/twitch/#twitch-api-endpoints-used","title":"Twitch API Endpoints Used","text":"Endpoint Method Purpose Required Params <code>/users</code> GET Resolve username to ID <code>login=username</code> <code>/streams</code> GET Check stream status <code>user_id=id</code> <code>/users/blocks</code> PUT Block a user <code>target_user_id=id</code>"},{"location":"services/twitch/#token-refresh-flow","title":"Token Refresh Flow","text":"<pre><code>1. makeRequest() called\n   \u2193\n2. getFreshAccessToken() checks expiration\n   \u2193\n3a. Token valid \u2192 Return existing token\n   \u2193\n3b. Token expired \u2192 POST to /oauth2/token\n   \u2193\n4. Update database with new token\n   \u2193\n5. Return fresh token\n   \u2193\n6. Make API call with fresh token + Client-Id\n   \u2193\n7a. Success \u2192 Return data\n   \u2193\n7b. 401 Error \u2192 Refresh token and retry once\n</code></pre>"},{"location":"services/twitch/#rate-limits","title":"Rate Limits","text":"<ul> <li>Twitch API: 800 requests per minute per application</li> <li>Our usage: ~1-2 requests per automation check</li> <li>Safe for: 100+ concurrent AREAs per user</li> </ul>"},{"location":"services/twitch/#future-enhancements","title":"Future Enhancements","text":"<p>Potential additional features: - More triggers: new follower, chat message, raid received, subscriber - More reactions: start ad break, update title, create clip, send chat message - Support for multiple streamers per AREA - Webhook support for instant notifications (instead of polling) - Stream category/game filters</p>"},{"location":"services/twitch/#example-use-cases","title":"Example Use Cases","text":"<ol> <li>Stream Notifications: Trigger when favorite streamer goes live \u2192 Send email</li> <li>Auto-moderation: Streamer goes live \u2192 Block known trolls</li> <li>Cross-platform: Twitch stream live \u2192 Post to Twitter/Discord</li> <li>Analytics: Track when streamers go live \u2192 Log to database</li> <li>Personal Security: Streamer goes live \u2192 Block specific users automatically</li> </ol>"},{"location":"services/twitch/#additional-resources","title":"Additional Resources","text":"<ul> <li>Twitch API Documentation</li> <li>Twitch OAuth Guide</li> <li>Twitch Developer Console</li> </ul>"}]}